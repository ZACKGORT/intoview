<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>intoview – Concept Reveal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- PP Neue Montreal Font (via CDN) -->
  <link href="https://fonts.cdnfonts.com/css/pp-neue-montreal" rel="stylesheet">
  <!-- GSAP CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.7/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.7/CustomEase.min.js"></script>
  <!-- (SplitType is not used in this script; text splitting is done custom in JS) -->
  <style>
    @font-face {
      src: url("https://fonts.cdnfonts.com/css/pp-neue-montreal") format("woff2");
      font-family: "PP Neue Montreal", sans-serif;
      font-weight: 400;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      height: 100%;
      overflow-x: hidden;
    }

    body {
      font-family: "PP Neue Montreal", sans-serif;
      background-color: #131211;
      color: #f0ede8;
      padding: 1rem;
    }

    .projects-component {
      max-width: 1200px;
      margin: 0 auto;
      height: 100vh;
      position: relative;
      display: flex;
      flex-direction: column;
    }

    .projects-list {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
      flex: 1;
      justify-content: center;
      position: relative;
      overflow-y: auto;
      scrollbar-width: none;
      -ms-overflow-style: none;
    }
    .projects-list::-webkit-scrollbar {
      display: none;
    }

    .project-item {
      width: 100%;
      text-align: center;
      cursor: pointer;
      margin-bottom: 1.5rem;
      position: relative;
    }

    .project-title-container {
      position: relative;
      display: inline-block;
      z-index: 5;
      pointer-events: auto;
      will-change: transform, opacity, filter;
    }
    .project-title {
      font-size: 2rem;
      font-weight: 700;
      letter-spacing: -0.02em;
      margin: 0.5rem 0;
    }

    .hover-indicator {
      position: absolute;
      width: 8px;
      height: 8px;
      background-color: #f0ede8;
      top: 50%;
      transform: translateY(-50%);
      opacity: 0;
      pointer-events: none;
      z-index: 100;
      will-change: width, opacity;
    }
    .hover-indicator.left {
      left: -20px;
    }
    .hover-indicator.right {
      right: -20px;
    }

    .project-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-height: 0;
      opacity: 0;
      overflow: hidden;
      padding: 0 1rem;
      margin: 0;
      pointer-events: none;
    }

    .project-details {
      width: 25%;
      text-align: left;
      font-size: 0.8rem;
      letter-spacing: 0.05rem;
      font-weight: 500;
    }
    .project-details .line-wrapper {
      overflow: hidden;
      margin-bottom: 0.25rem;
    }
    .project-details.right {
      text-align: left;
    }

    .detail-label {
      margin-bottom: 0.25rem;
      font-size: 0.7rem;
      letter-spacing: 0.05rem;
    }

    .detail-year {
      margin-top: 0.5rem;
    }

    .project-image {
      width: 40%;
      max-width: 600px;
      position: relative;
      overflow: hidden;
      aspect-ratio: 4/3;
    }
    .image-wrapper {
      position: relative;
      overflow: hidden;
      height: 100%;
      width: 100%;
    }
    .image-wrapper img {
      width: 100%;
      height: 100%;
      display: block;
      object-fit: cover;
    }

    @media (max-height: 700px) {
      .project-title {
        font-size: 2.5rem;
      }
      .project-item {
        margin-bottom: 0.75rem;
      }
    }
    @media (max-width: 768px) {
      .project-content {
        flex-direction: column;
      }
      .project-details {
        width: 100%;
        text-align: center;
        margin-bottom: 1rem;
      }
      .project-details.right {
        text-align: center;
        margin-top: 1rem;
        margin-bottom: 0;
      }
      .project-image {
        width: 80%;
      }
      .project-title {
        font-size: 2rem;
      }
    }

    /* New Logo Styles */
    .fixed-container {
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      transform: scale(0.276); /* 0.24 increased by 15% (0.24 x 1.15 = 0.276) */
      transform-origin: center;
      margin-bottom: 0.5rem; /* Reduce space below logo */
    }
    .fixed-container .logo-container {
      position: relative;
      z-index: 1;
      width: 32em;
      height: auto;
    }
    .fixed-container .logo {
      display: block;
      width: 100%;
      height: auto;
      filter: invert(1);
    }
    .clouds-container {
      position: absolute;
      top: 11%;
      left: 4.75%;
      transform: translateX(-50%);
      z-index: 2;
      width: 2.28em;
      height: 4.92em;
      background-color: black;
      border-radius: 0;
    }
    .clouds-container .clouds {
      position: absolute;
      width: 2.28em;
      height: 4.92em;
      background-color: transparent;
      overflow: hidden;
    }
    .clouds-container .clouds span {
      position: absolute;
      width: 1.2em;
      height: 0.48em;
      background-color: white;
      top: 20%;
      border-radius: 6em;
      animation: move 6s linear infinite;
    }
    @keyframes move {
      from {
        left: -150%;
      }
      to {
        left: 150%;
      }
    }
    .clouds-container .clouds span::before,
    .clouds-container .clouds span::after {
      content: "";
      position: absolute;
      width: 0.4em;
      height: 0.4em;
      background-color: white;
      border-radius: 50%;
    }
    .clouds-container .clouds span::before {
      top: -0.25em;
      left: 0.25em;
    }
    .clouds-container .clouds span::after {
      top: -0.15em;
      right: 0.15em;
    }
    .clouds-container .clouds span:nth-child(2) {
      top: 40%;
      animation-delay: -1.5s;
    }
    .clouds-container .clouds span:nth-child(3) {
      top: 60%;
      animation-delay: -1s;
    }
    .clouds-container .clouds span:nth-child(4) {
      top: 20%;
      transform: scale(1.36);
      animation-delay: -2s;
    }
    .clouds-container .clouds span:nth-child(5) {
      top: 80%;
      transform: scale(1.2);
      animation-delay: -4s;
    }
    /* Abstract Logo Section */
    #logo-container {
      width: 240px;
      height: 240px;
      position: relative;
      border-radius: 50%;
      overflow: hidden;
      transition: box-shadow 0.8s ease, transform 0.2s ease;
      margin-bottom: 10px; /* Was 30px, now tighter */
      padding: 10px;
    }
    canvas#c {
      display: block;
      width: 100%;
      height: 100%;
      border-radius: 50%;
    }
    #logo-text {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-family: "Poppins", sans-serif;
      font-size: 1.4em;
      letter-spacing: 0.4em;
      text-transform: uppercase;
      font-weight: 700;
      color: #111;
      pointer-events: none;
    }

    /* Reduce space between logo and projects if .fixed-container is followed by .projects-component */
    .fixed-container + .projects-component {
      margin-top: 0.5rem;
    }
  </style>
</head>
<body>
  <!-- Logo Section -->
  <div class="fixed-container">
    <div class="logo-container">
      <img src="https://raw.githubusercontent.com/ZACKGORT/intoview/main/intoview-full-logo-for-animation.svg" alt="Logo" class="logo" />
      <div class="clouds-container">
        <div class="clouds">
          <span></span>
          <span></span>
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
    </div>
  </div>
  <!-- Projects Section -->
  <div class="projects-component">
    <div class="projects-list">
      <div class="project-item" data-index="0">
        <div class="project-title-container">
          <div class="hover-indicator left"></div>
          <h2 class="project-title">What is intoview?</h2>
          <div class="hover-indicator right"></div>
        </div>
        <div class="project-content">
          <div class="project-details left">
            <p class="detail-label">intoview is a platform for creators to present their work in a way that feels relevant, sophisticated, and approachable. It’s not a résumé or a static case study. It’s a stage for your projects to come into view.</p>
          </div>
          <div class="project-image">
            <div class="image-wrapper">
              <img src="https://i.ibb.co/n8CrzqVS/intoview-deskmobile1.png" alt="Cosmic depths image">
            </div>
          </div>
          <div class="project-details right">
            <p class="detail-label">PROJECT IN VIEW</p>
            <p class="detail-label">RELEVANT PRESENCE</p>
            <p class="detail-label">LIVING STAGE</p>
          </div>
        </div>
      </div>
      <div class="project-item" data-index="1">
        <div class="project-title-container">
          <div class="hover-indicator left"></div>
          <h2 class="project-title">Who is intoview for?</h2>
          <div class="hover-indicator right"></div>
        </div>
        <div class="project-content">
          <div class="project-details left">
            <p class="detail-label">Designers, developers, artists, builders, and anyone who wants to showcase their work as more than a portfolio. If you create, experiment, or ship things worth sharing, intoview is built for you.</p>
          </div>
          <div class="project-image">
            <div class="image-wrapper">
              <img src="https://i.ibb.co/DgTYSLf/6ab.jpg" alt="Fourth dimension image">
            </div>
          </div>
          <div class="project-details right">
            <p class="detail-label">MAKERS AND DOERS</p>
            <p class="detail-label">CREATIVE ENERGY</p>
            <p class="detail-label">BUILT FOR YOU</p>
          </div>
        </div>
      </div>
      <div class="project-item" data-index="2">
        <div class="project-title-container">
          <div class="hover-indicator left"></div>
          <h2 class="project-title">Why do I need intoview?</h2>
          <div class="hover-indicator right"></div>
        </div>
        <div class="project-content">
          <div class="project-details left">
            <p class="detail-label">Maybe you don't, but are you getting noticed in the ways you need on LinkedIn?</p>
            <p class="detail-label"> </p>
            <p class="detail-label">Your work deserves more than a PDF or a LinkedIn post. intoview gives you a living presence: minimal, modern, and expressive, with your projects at the center. It’s a way to show not just what you’ve done, but what you’re doing right now.</p>
          </div>
          <div class="project-image">
            <div class="image-wrapper">
              <img src="https://i.ibb.co/n1NvQDt/3ab.jpg" alt="Inner void image">
            </div>
          </div>
          <div class="project-details right">
            <p class="detail-label">BEYOND THE PDF</p>
            <p class="detail-label">MORE THAN A POST</p>
            <p class="detail-label">INTO THE NOW</p>
          </div>
        </div>
      </div>
      <div class="project-item" data-index="3">
        <div class="project-title-container">
          <div class="hover-indicator left"></div>
          <h2 class="project-title">How does intoview work?</h2>
          <div class="hover-indicator right"></div>
        </div>
        <div class="project-content">
          <div class="project-details left">
            <p class="detail-label">You bring your projects, and intoview gives them form. Each project becomes part of a clear, data-inspired profile that aligns with opportunities. The platform highlights the synergy between job listing requirements and your professional profile, making it easier to present yourself in context—relevant, sophisticated, and approachable.</p>
          </div>
          <div class="project-image">
            <div class="image-wrapper">
              <img src="https://i.ibb.co/d4LG7G8/4ab.jpg" alt="Present witness image">
            </div>
          </div>
          <div class="project-details right">
            <p class="detail-label">REQUIREMENT MEETS PROFILE</p>
            <p class="detail-label">SYNERGY IN CONTEXT</p>
            <p class="detail-label">OPPORTUNITY ALIGNED</p>
          </div>
        </div>
      </div>
      <div class="project-item" data-index="4">
        <div class="project-title-container">
          <div class="hover-indicator left"></div>
          <h2 class="project-title">Who sees my intoview profile?</h2>
          <div class="hover-indicator right"></div>
        </div>
        <div class="project-content">
          <div class="project-details left">
            <p class="detail-label">Your profile is shareable through a unique link. You control access—whether it’s public, private, or tailored for a specific opportunity.</p>
          </div>
          <div class="project-image">
            <div class="image-wrapper">
              <img src="https://i.ibb.co/wrBp9WT/5ab.jpg" alt="Creative flow image">
            </div>
          </div>
          <div class="project-details right">
            <p class="detail-label">SHARED ON YOUR TERMS</p>
            <p class="detail-label">CONTROLLED VISIBILITY</p>
            <p class="detail-label">TAILORED ACCESS</p>
          </div>
        </div>
      </div>
      <div class="project-item" data-index="5">
        <div class="project-title-container">
          <div class="hover-indicator left"></div>
          <h2 class="project-title">How do hiring folk use intoview?</h2>
          <div class="hover-indicator right"></div>
        </div>
        <div class="project-content">
          <div class="project-details left">
            <p class="detail-label">Hiring teams post a job description, and intoview does the rest. The platform automatically aligns requirements with candidate profiles and projects, surfacing the people whose work is most relevant. Instead of sifting through static résumés, hiring folk see candidates in context—what they’re working on now, and why it matters to the role.</p>
          </div>
          <div class="project-image">
            <div class="image-wrapper">
              <img src="https://i.ibb.co/R3GJ9WM/2ab.jpg" alt="Universal lens image">
            </div>
          </div>
          <div class="project-details right">
            <p class="detail-label">JOB MEETS TALENT</p>
            <p class="detail-label">CONTEXTUAL FIT</p>
            <p class="detail-label">RELEVANCE REVEALED</p>
          </div>
        </div>
      </div>
      <div class="project-item" data-index="6">
        <div class="project-title-container">
          <div class="hover-indicator left"></div>
          <h2 class="project-title">Tell me, is intoview real?</h2>
          <div class="hover-indicator right"></div>
        </div>
        <div class="project-content">
          <div class="project-details left">
            <p class="detail-label">Not just yet. As of now, intoview is still a concept. The previews you’ve seen are proofs of concept, created to explore how the platform could solve hypothetical challenges for creators and companies.</p>
          </div>
          <div class="project-image">
            <div class="image-wrapper">
              <img src="https://i.ibb.co/8xgNqND/1.png" alt="Essential light image">
            </div>
          </div>
          <div class="project-details right">
            <p class="detail-label">FUTURE EMERGING</p>
            <p class="detail-label">CONCEPT IN MOTION</p>
            <p class="detail-label">PROOF OF POSSIBILITY</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // Register GSAP plugins
      gsap.registerPlugin(CustomEase);

      // Create custom eases
      CustomEase.create("projectExpand", "0.42, 0, 1, 1"); // ease-in then linear
      CustomEase.create("projectCollapse", "0, 0, 0.58, 1"); // ease-out then linear
      CustomEase.create("textReveal", "0.25, 1, 0.5, 1");
      CustomEase.create("squareStretch", "0.22, 1, 0.36, 1");

      const projectItems = document.querySelectorAll(".project-item");
      let activeProject = null;
      let isClickAllowed = true;

      // Set initial invisibility of all project items for staggered reveal
      gsap.set(projectItems, {
        opacity: 0,
        y: 20,
        scale: 0.97
      });

      // Add staggered entrance animation on page load
      const entranceTl = gsap.timeline({
        defaults: {
          ease: "power1.out"
        }
      });

      entranceTl.to(projectItems, {
        opacity: 1,
        y: 0,
        scale: 1,
        duration: 0.35,
        stagger: 0.04,
        clearProps: "opacity,y,scale",
        onComplete: function () {
          // Ensure all items are fully visible after animation completes
          gsap.set(projectItems, {
            clearProps: "all"
          });
        }
      });

      // Initialize text splitting
      projectItems.forEach((project) => {
        const detailElements = project.querySelectorAll(".project-details p");
        detailElements.forEach((element) => {
          // Create a simple text splitting approach that works without SplitType
          const originalText = element.innerText;
          element.innerHTML = "";
          const lineWrapper = document.createElement("div");
          lineWrapper.className = "line-wrapper";
          lineWrapper.style.overflow = "hidden"; // Added overflow hidden for cleaner text animations
          const lineElement = document.createElement("div");
          lineElement.className = "line";
          lineElement.innerText = originalText;
          lineWrapper.appendChild(lineElement);
          element.appendChild(lineWrapper);

          // Set initial GSAP position
          gsap.set(lineElement, {
            y: "100%",
            opacity: 0
          });
        });

        // Set up hover indicators
        const titleContainer = project.querySelector(".project-title-container");
        const leftIndicator = project.querySelector(".hover-indicator.left");
        const rightIndicator = project.querySelector(".hover-indicator.right");

        // Set initial sizes
        gsap.set(leftIndicator, {
          width: "0px",
          height: "8px",
          opacity: 0,
          x: -10,
          zIndex: 20,
          background: "#f0ede8"
        });

        gsap.set(rightIndicator, {
          width: "0px",
          height: "8px",
          opacity: 0,
          x: 10,
          zIndex: 20,
          background: "#f0ede8"
        });

        // Add hover event listeners
        titleContainer.addEventListener("mouseenter", () => {
          // Only show hover effect on non-active projects
          if (project !== activeProject) {
            gsap.killTweensOf([leftIndicator, rightIndicator]);
            gsap.set([leftIndicator, rightIndicator], {
              clearProps: "all",
              opacity: 0,
              width: "0px",
              height: "8px",
              x: function (i) {
                return i === 0 ? -10 : 10;
              }
            });

            // Left square animation - stretch then contract
            const leftTl = gsap.timeline();
            leftTl
              .set(leftIndicator, {
                opacity: 1,
                width: "0px"
              })
              .to(leftIndicator, {
                x: 0,
                width: "12px",
                duration: 0.15,
                ease: "power2.out"
              })
              .to(leftIndicator, {
                width: "8px",
                duration: 0.1,
                ease: "squareStretch"
              });

            // Right square animation - delayed, stretch then contract
            const rightTl = gsap.timeline({
              delay: 0.06
            });
            rightTl
              .set(rightIndicator, {
                opacity: 1,
                width: "0px"
              })
              .to(rightIndicator, {
                x: 0,
                width: "12px",
                duration: 0.15,
                ease: "power2.out"
              })
              .to(rightIndicator, {
                width: "8px",
                duration: 0.1,
                ease: "squareStretch"
              });
          }
        });

        titleContainer.addEventListener("mouseleave", () => {
          // Only animate out for non-active projects
          if (project !== activeProject) {
            gsap.killTweensOf([leftIndicator, rightIndicator]);

            // Reverse animation for left square
            const leftTl = gsap.timeline();
            leftTl
              .to(leftIndicator, {
                width: "12px",
                duration: 0.1,
                ease: "power1.in"
              })
              .to(leftIndicator, {
                width: "0px",
                x: -10,
                opacity: 0,
                duration: 0.15,
                ease: "power2.in"
              });

            // Reverse animation for right square (delayed)
            const rightTl = gsap.timeline({
              delay: 0.03
            });
            rightTl
              .to(rightIndicator, {
                width: "12px",
                duration: 0.1,
                ease: "power1.in"
              })
              .to(rightIndicator, {
                width: "0px",
                x: 10,
                opacity: 0,
                duration: 0.15,
                ease: "power2.in"
              });
          }
        });
      });

      // Function to apply scaling to projects with gradual opacity and blur
      const applyScaling = (activeIndex) => {
        projectItems.forEach((item, index) => {
          const titleContainer = item.querySelector(".project-title-container");
          const distance = Math.abs(index - activeIndex);

          if (index === activeIndex) {
            // Active project
            gsap.to(titleContainer, {
              scale: 1,
              opacity: 1,
              filter: "blur(0px)",
              y: 0,
              duration: 0.3,
              ease: "projectExpand"
            });
          } else if (distance === 1) {
            // Distance 1 projects
            gsap.to(titleContainer, {
              scale: 0.95,
              opacity: 0.7,
              filter: "blur(1px)",
              y: 0,
              duration: 0.3,
              ease: "projectExpand"
            });
          } else if (distance === 2) {
            // Distance 2 projects
            gsap.to(titleContainer, {
              scale: 0.9,
              opacity: 0.5,
              filter: "blur(2px)",
              y: 0,
              duration: 0.3,
              ease: "projectExpand"
            });
          } else {
            // Distance 3+ projects
            gsap.to(titleContainer, {
              scale: 0.85,
              opacity: 0.3,
              filter: "blur(4px)",
              y: 0,
              duration: 0.3,
              ease: "projectExpand"
            });
          }
        });
      };

      // Function to reset all scaling
      const resetScaling = () => {
        projectItems.forEach((item) => {
          const titleContainer = item.querySelector(".project-title-container");
          gsap.to(titleContainer, {
            scale: 1,
            opacity: 1,
            filter: "blur(0px)",
            y: 0,
            duration: 0.3,
            ease: "projectCollapse"
          });
        });
      };

      // Set initial states for images
      gsap.set(".image-wrapper img", {
        clipPath: "inset(100% 0 0 0)"
      });

      // Function to toggle project expansion
      const toggleProject = (project) => {
        // Debounce clicks
        if (!isClickAllowed) return;
        isClickAllowed = false;
        setTimeout(() => {
          isClickAllowed = true;
        }, 300);

        // If clicking the active project, close it
        if (activeProject === project) {
          const content = project.querySelector(".project-content");
          const image = project.querySelector(".image-wrapper img");
          const details = project.querySelectorAll(".project-details .line");
          const title = project.querySelector(".project-title");

          // Close animation with ease-out then linear for letter spacing
          gsap.to(title, {
            fontSize: "3rem",
            letterSpacing: "-0.02em",
            duration: 0.2,
            ease: "projectCollapse"
          });

          gsap.to(image, {
            clipPath: "inset(100% 0 0 0)",
            duration: 0.15,
            ease: "none"
          });

          // SLOWER ANIMATION for project details when closing
          gsap.to(details, {
            y: "100%",
            opacity: 0,
            duration: 0.5,
            stagger: 0.05,
            ease: "projectCollapse"
          });

          gsap.to(content, {
            maxHeight: 0,
            opacity: 0,
            margin: 0,
            duration: 0.2,
            ease: "projectCollapse",
            onComplete: () => {
              // After animation completes
              activeProject = null;
              resetScaling();
              // Reset spacing
              gsap.to(projectItems, {
                marginBottom: "1.5rem",
                duration: 0.3,
                ease: "projectExpand",
                stagger: 0.02
              });
            }
          });
        } else {
          // Close active project if exists
          if (activeProject) {
            const oldContent = activeProject.querySelector(".project-content");
            const oldImage = activeProject.querySelector(".image-wrapper img");
            const oldDetails = activeProject.querySelectorAll(
              ".project-details .line"
            );
            const oldTitle = activeProject.querySelector(".project-title");

            // Close previous project
            gsap.to(oldTitle, {
              fontSize: "3rem",
              letterSpacing: "-0.02em",
              duration: 0.2,
              ease: "projectCollapse"
            });

            gsap.to(oldImage, {
              clipPath: "inset(100% 0 0 0)",
              duration: 0.15,
              ease: "none"
            });

            // SLOWER ANIMATION for project details when closing previous project
            gsap.to(oldDetails, {
              y: "100%",
              opacity: 0,
              duration: 0.5,
              stagger: 0.05,
              ease: "projectCollapse"
            });

            gsap.to(oldContent, {
              maxHeight: 0,
              opacity: 0,
              margin: 0,
              duration: 0.2,
              ease: "projectCollapse",
              onComplete: () => openNewProject()
            });
          } else {
            openNewProject();
          }

          function openNewProject() {
            // Open new project
            activeProject = project;

            // Apply scaling with blur
            const activeIndex = Array.from(projectItems).indexOf(project);
            applyScaling(activeIndex);

            // Get elements to animate
            const content = project.querySelector(".project-content");
            const image = project.querySelector(".image-wrapper img");
            const details = project.querySelectorAll(".project-details .line");
            const title = project.querySelector(".project-title");

            // Pre-render content to get accurate height
            gsap.set(content, {
              display: "flex",
              autoAlpha: 0,
              height: "auto",
              maxHeight: "none",
              overflow: "hidden"
            });

            // Get accurate measurement
            const contentHeight = content.offsetHeight;

            // Reset for animation
            gsap.set(content, {
              maxHeight: 0,
              height: "auto",
              autoAlpha: 0,
              overflow: "hidden"
            });

            // Create a timeline for synchronized animations
            const tl = gsap.timeline({
              defaults: {
                ease: "projectExpand"
              }
            });

            // Animate opening with ease-in then linear for letter spacing
            tl.to(
              title,
              {
                fontSize: window.innerWidth > 768 ? "3.5rem" : "2.5rem",
                letterSpacing: "0.01em",
                duration: 0.35,
                ease: "projectExpand"
              },
              0
            );

            tl.to(
              content,
              {
                maxHeight: contentHeight,
                autoAlpha: 1,
                margin: "2rem 0",
                duration: 0.4,
                pointerEvents: "auto"
              },
              0
            );

            tl.to(
              image,
              {
                clipPath: "inset(0% 0 0 0)",
                duration: 0.35,
                ease: "power2.out"
              },
              0.05
            );

            // SLOWER ANIMATION for project details when opening
            tl.to(
              details,
              {
                y: "0%",
                opacity: 1,
                duration: 0.8,
                stagger: 0.08,
                ease: "textReveal"
              },
              0.2
            );

            // Adjust spacing for better visibility
            if (activeIndex > 0) {
              gsap.to(Array.from(projectItems).slice(0, activeIndex), {
                marginBottom: "0.5rem",
                duration: 0.3,
                ease: "projectCollapse",
                stagger: 0.02
              });
            }
            if (activeIndex < projectItems.length - 1) {
              gsap.to(Array.from(projectItems).slice(activeIndex + 1), {
                marginBottom: "0.5rem",
                duration: 0.3,
                ease: "projectCollapse",
                stagger: 0.02
              });
            }

            // Ensure visible in viewport
            setTimeout(() => {
              const projectsList = document.querySelector(".projects-list");
              const rect = project.getBoundingClientRect();
              const containerRect = projectsList.getBoundingClientRect();

              if (
                rect.top < containerRect.top ||
                rect.bottom > containerRect.bottom
              ) {
                const scrollOffset =
                  rect.top -
                  containerRect.top -
                  containerRect.height / 2 +
                  rect.height / 2;

                projectsList.scrollBy({
                  top: scrollOffset,
                  behavior: "smooth"
                });
              }
            }, 50);
          }
        }
      };

      // Add click event listeners
      projectItems.forEach((item) => {
        item.addEventListener("click", () => {
          toggleProject(item);
        });
      });

      // Handle window resize
      window.addEventListener("resize", () => {
        if (activeProject) {
          // Update content height on resize
          const content = activeProject.querySelector(".project-content");

          // Update title font size
          const title = activeProject.querySelector(".project-title");
          gsap.to(title, {
            fontSize: window.innerWidth > 768 ? "3.5rem" : "2.5rem",
            duration: 0.2
          });

          // Re-measure content height
          const currentHeight = parseFloat(getComputedStyle(content).height);
          gsap.set(content, {
            maxHeight: "none"
          });
          const autoHeight = content.offsetHeight;

          // If height changed, animate to new height
          if (Math.abs(currentHeight - autoHeight) > 1) {
            gsap.set(content, {
              maxHeight: currentHeight
            });
            gsap.to(content, {
              maxHeight: autoHeight,
              duration: 0.2
            });
          } else {
            gsap.set(content, {
              maxHeight: currentHeight
            });
          }
        }
      });
    });
  </script>
</body>
</html>
