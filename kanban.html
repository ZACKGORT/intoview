<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Boathouse KanBan</title>
  <script crossorigin="" src="https://unpkg.com/react@18.3.1/umd/react.production.min.js"></script>
  <script crossorigin="" src="https://unpkg.com/react-dom@18.3.1/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://unpkg.com/three@0.128.0/examples/js/renderers/CSS3DRenderer.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/Draggable.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
  <style>
:root {
        --primary-color: #3b82f6;
        --secondary-color: #8b5cf6;
        --success-color: #10b981;
        --warning-color: #f59e0b;
        --danger-color: #ef4444;
        --dark-bg: #0f172a;
        --light-bg: #1e293b;
        --ui-bg: rgba(30, 41, 59, 0.1);
        --card-bg: rgba(30, 41, 59, 0.77);
        --text-primary: #f1f5f9;
        --text-secondary: #94a3b8;
        --border-color: rgba(255, 255, 255, 0.1);
        --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.2);
        --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.2);
        --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.2);
    }
    
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    
    body {
        font-family: 'Inter', sans-serif;
        background: linear-gradient(135deg, #1e3a8a 0%, #6d28d9 100%);
        min-height: 100vh;
        color: var(--text-primary);
        overflow: hidden;
    }
    
    #three-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    
    #vignette {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      background: radial-gradient(circle at center, transparent 60%, rgba(0,0,0,0.3) 100%);
      z-index: 10;
    }
    
    /* Login Screen Styles (kept for reference, but bypassed) */
    .login-container {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        padding: 20px;
    }
    
    .login-card {
        background: var(--ui-bg);
        backdrop-filter: blur(20px);
        border: 1px solid var(--border-color);
        border-radius: 20px;
        padding: 40px;
        box-shadow: var(--shadow-lg);
        width: 100%;
        max-width: 400px;
        text-align: center;
    }
    
    .login-title {
        font-size: 28px;
        font-weight: 700;
        margin-bottom: 10px;
        background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }
    
    .login-subtitle {
        color: var(--text-secondary);
        margin-bottom: 30px;
        font-size: 14px;
    }
    
    .role-selection {
        display: flex;
        flex-direction: column;
        gap: 12px;
        margin-bottom: 20px;
    }
    
    .role-btn {
        padding: 15px 20px;
        border: 2px solid var(--border-color);
        background: var(--light-bg);
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 14px;
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 12px;
        color: var(--text-primary);
    }
    
    .role-btn:hover {
        border-color: var(--primary-color);
        background: var(--dark-bg);
        transform: translateY(-2px);
        box-shadow: var(--shadow-md);
    }
    
    .role-btn i {
        font-size: 18px;
        color: var(--primary-color);
    }
    
    /* Main Application Layout */
    .app-container {
        display: flex;
        height: 100vh;
    }
    
    .sidebar {
        width: 280px;
        background: var(--ui-bg);
        backdrop-filter: blur(20px);
        color: var(--text-primary);
        padding: 30px 20px;
        overflow-y: auto;
        transition: width 0.3s ease;
    }
    
    .sidebar.collapsed {
        width: 60px;
        padding: 30px 10px;
    }
    
    .sidebar.collapsed .user-info, .sidebar.collapsed .nav-link span, .sidebar.collapsed .notification-badge {
        display: none;
    }
    
    .sidebar.collapsed .user-profile {
        justify-content: center;
    }
    
    .sidebar.collapsed .nav-link {
        justify-content: center;
        padding: 12px;
    }
    
    .user-profile {
        display: flex;
        align-items: center;
        gap: 15px;
        margin-bottom: 30px;
        padding-bottom: 20px;
        border-bottom: 1px solid var(--border-color);
    }
    
    .user-avatar {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        font-size: 18px;
    }
    
    .user-info h3 {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 4px;
    }
    
    .user-info p {
        font-size: 12px;
        opacity: 0.7;
    }
    
    .nav-menu {
        list-style: none;
    }
    
    .nav-item {
        margin-bottom: 8px;
    }
    
    .nav-link {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px 16px;
        color: var(--text-secondary);
        text-decoration: none;
        border-radius: 8px;
        transition: all 0.3s ease;
        font-size: 14px;
        cursor: pointer;
    }
    
    .nav-link:hover,
    .nav-link.active {
        background: rgba(255, 255, 255, 0.05);
        color: var(--text-primary);
    }
    
    .nav-link i {
        width: 20px;
        text-align: center;
    }
    
    /* Main Content Area */
    .main-content {
        flex: 1;
        display: flex;
        flex-direction: column;
        overflow: hidden;
        transition: margin-left 0.3s ease;
    }
    
    .header {
        background: var(--ui-bg);
        backdrop-filter: blur(20px);
        padding: 20px 30px;
        border-bottom: 1px solid var(--border-color);
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: sticky; /* Make header sticky */
        top: 0;
        z-index: 50;
    }
    
    .header-title {
        font-size: 24px;
        font-weight: 700;
    }
    
    .header-actions {
        display: flex;
        gap: 15px;
        align-items: center;
    }
    
    .btn {
        padding: 10px 20px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        gap: 8px;
    }
    
    .btn-primary {
        background: var(--primary-color);
        color: white;
    }
    
    .btn-primary:hover {
        background: #1d4ed8;
        transform: translateY(-1px);
        box-shadow: var(--shadow-md);
    }
    
    .btn-secondary {
        background: var(--light-bg);
        color: var(--text-primary);
        border: 1px solid var(--border-color);
    }
    
    .btn-secondary:hover {
        background: var(--dark-bg);
    }
    
    /* Kanban Board Styles */
    .kanban-container {
        flex: 1;
        padding: 30px;
        overflow-x: auto;
        overflow-y: auto;
    }
    
    .kanban-board {
        display: flex;
        gap: 20px;
        min-height: 600px;
    }
    
    .kanban-column {
        flex: 1;
        min-width: 300px;
        background: var(--ui-bg);
        backdrop-filter: blur(20px);
        border: 1px solid var(--border-color);
        border-radius: 12px;
        padding: 20px;
    }
    
    .kanban-column.drag-over {
      background: rgba(59, 130, 246, 0.1);
      border-color: var(--primary-color);
    }
    
    .column-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 2px solid var(--border-color);
    }
    
    .column-title {
        font-size: 16px;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 8px;
    }
    
    .column-count {
        background: var(--border-color);
        padding: 2px 8px;
        border-radius: 12px;
        font-size: 12px;
        font-weight: 500;
    }
    
    .notes-list {
        display: flex;
        flex-direction: column;
        gap: 12px;
        min-height: 200px;
    }
    
    /* Note Card Styles */
    .note-card {
        background: var(--card-bg);
        backdrop-filter: blur(20px);
        border-radius: 12px;
        padding: 16px;
        box-shadow: var(--shadow-sm);
        cursor: move;
        transition: all 0.3s ease;
        border-left: 4px solid var(--primary-color);
        opacity: 1 !important;
    }
    
    .note-card:hover {
        box-shadow: var(--shadow-md);
        transform: translateY(-2px);
    }
    
    .note-card.dragging {
        opacity: 0.5;
        transform: rotate(2deg) scale(1.05);
    }
    
    .note-card.urgent {
        border-left-color: var(--danger-color);
    }
    
    .note-card.high {
        border-left-color: var(--warning-color);
    }
    
    .note-card.medium {
        border-left-color: var(--primary-color);
    }
    
    .note-card.low {
        border-left-color: var(--success-color);
    }
    
    .note-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 12px;
    }
    
    .note-title {
        font-size: 14px;
        font-weight: 600;
        color: var(--text-primary);
        flex: 1;
    }
    
    .note-priority {
        padding: 4px 8px;
        border-radius: 6px;
        font-size: 10px;
        font-weight: 500;
        text-transform: uppercase;
    }
    
    .priority-urgent {
        background: rgba(239, 68, 68, 0.2);
        color: var(--danger-color);
    }
    
    .priority-high {
        background: rgba(245, 158, 11, 0.2);
        color: var(--warning-color);
    }
    
    .priority-medium {
        background: rgba(59, 130, 246, 0.2);
        color: var(--primary-color);
    }
    
    .priority-low {
        background: rgba(16, 185, 129, 0.2);
        color: var(--success-color);
    }
    
    .note-content {
        font-size: 13px;
        color: var(--text-secondary);
        line-height: 1.5;
        margin-bottom: 12px;
    }
    
    .note-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 11px;
        color: var(--text-secondary);
        gap: 12px;
    }
    
    .note-meta {
        display: flex;
        gap: 12px;
    }
    
    .note-meta span {
        display: flex;
        align-items: center;
        gap: 4px;
    }
    
    .note-assignee {
        display: flex;
        align-items: center;
        gap: 6px;
    }
    
    .assignee-avatar {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 8px;
        font-weight: 600;
        color: white;
    }

    .note-actions {
        display: flex;
        gap: 4px;
    }

    .note-action-btn {
        background: none;
        border: none;
        color: var(--text-secondary);
        cursor: pointer;
        padding: 4px 6px;
        border-radius: 4px;
        transition: all 0.3s ease;
    }

    .note-action-btn:hover {
        background: rgba(255, 255, 255, 0.1);
        color: var(--text-primary);
    }
    
    /* Modal Styles */
    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        backdrop-filter: blur(4px);
    }
    
    .modal {
        background: var(--card-bg);
        backdrop-filter: blur(20px);
        border: 1px solid var(--border-color);
        border-radius: 16px;
        padding: 30px;
        width: 90%;
        max-width: 500px;
        max-height: 90vh;
        overflow-y: auto;
        box-shadow: var(--shadow-lg);
    }
    
    .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 25px;
    }
    
    .modal-title {
        font-size: 20px;
        font-weight: 600;
    }
    
    .modal-close {
        background: none;
        border: none;
        font-size: 24px;
        color: var(--text-secondary);
        cursor: pointer;
        padding: 0;
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 8px;
        transition: all 0.3s ease;
    }
    
    .modal-close:hover {
        background: rgba(255, 255, 255, 0.05);
        color: var(--text-primary);
    }
    
    .form-group {
        margin-bottom: 20px;
    }
    
    .form-label {
        display: block;
        margin-bottom: 8px;
        font-size: 14px;
        font-weight: 500;
        color: var(--text-primary);
    }
    
    .form-input,
    .form-textarea,
    .form-select {
        width: 100%;
        padding: 10px 14px;
        border: 1px solid var(--border-color);
        border-radius: 8px;
        font-size: 14px;
        transition: all 0.3s ease;
        background: var(--light-bg);
        color: var(--text-primary);
    }
    
    .form-input:focus,
    .form-textarea:focus,
    .form-select:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }
    
    .form-textarea {
        resize: vertical;
        min-height: 100px;
    }
    
    .form-row {
        display: flex;
        gap: 15px;
    }
    
    .form-row .form-group {
        flex: 1;
    }
    
    .priority-options {
        display: flex;
        gap: 10px;
    }
    
    .priority-option {
        flex: 1;
        padding: 12px;
        border: 2px solid var(--border-color);
        border-radius: 8px;
        cursor: pointer;
        text-align: center;
        transition: all 0.3s ease;
        font-size: 13px;
        font-weight: 500;
        color: var(--text-primary);
    }
    
    .priority-option:hover {
        border-color: var(--primary-color);
        transform: translateY(-2px);
    }
    
    .priority-option.selected {
        color: white;
    }
    
    .priority-option.urgent.selected {
        background: var(--danger-color);
        border-color: var(--danger-color);
    }
    
    .priority-option.high.selected {
        background: var(--warning-color);
        border-color: var(--warning-color);
    }
    
    .priority-option.medium.selected {
        background: var(--primary-color);
        border-color: var(--primary-color);
    }
    
    .priority-option.low.selected {
        background: var(--success-color);
        border-color: var(--success-color);
    }
    
    .form-actions {
        display: flex;
        gap: 12px;
        justify-content: flex-end;
        margin-top: 25px;
    }
    
    /* Filter Bar Styles */
    .filter-bar {
        background: var(--ui-bg);
        backdrop-filter: blur(20px);
        padding: 20px 30px;
        border-bottom: 1px solid var(--border-color);
        display: flex;
        gap: 15px;
        align-items: center;
    }

    .filter-bar.hidden {
        display: none;
    }
    
    .filter-group {
        display: flex;
        align-items: center;
        gap: 8px;
    }
    
    .filter-label {
        font-size: 14px;
        font-weight: 500;
        color: var(--text-secondary);
    }
    
    /* Notification Badge */
    .notification-badge {
        position: relative;
    }
    
    .badge {
        position: absolute;
        top: -5px;
        right: -5px;
        background: var(--danger-color);
        color: white;
        border-radius: 50%;
        width: 18px;
        height: 18px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 10px;
        font-weight: 600;
    }
    
    .sidebar-toggle {
      display: inline-flex;
    }

    /* --- FIX: Scrim overlay transparency for mobile sidebar close (still clickable) --- */
    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: transparent; 
      z-index: 999;
    }
    
    /* Tab Styles */
    .tabs {
      display: flex;
      overflow-x: auto;
      background: var(--ui-bg);
      border-bottom: 1px solid var(--border-color);
      padding: 0 30px;
    }

    .tab-btn {
      padding: 12px 20px;
      background: none;
      border: none;
      color: var(--text-secondary);
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      white-space: nowrap;
    }

    .tab-btn.active {
      color: var(--text-primary);
      border-bottom: 2px solid var(--primary-color);
    }

    .tab-btn:hover {
      color: var(--text-primary);
    }

    /* Toast Banner Styles */
    .toast {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--success-color);
      color: white;
      padding: 15px 20px;
      border-radius: 8px;
      box-shadow: var(--shadow-md);
      display: flex;
      align-items: center;
      gap: 10px;
      z-index: 1001;
      max-width: 300px;
      animation: slideInToast 0.3s ease-out;
    }

    .toast button {
      background: none;
      border: none;
      color: white;
      cursor: pointer;
      font-size: 16px;
    }

    @keyframes slideInToast {
      from { transform: translateY(100%); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
        .app-container {
            flex-direction: column;
        }
    
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            transform: translateX(-100%);
            transition: transform 0.3s ease;
            z-index: 1000;
            
            /* --- FIX: Solid Black Sidebar on Mobile --- */
            background: var(--dark-bg);
            backdrop-filter: none;
            /* -------------------------------------- */
        }

        .sidebar.open {
            transform: translateX(0);
        }
    
        .main-content {
            width: 100%;
        }
    
        .kanban-board {
            flex-direction: column;
        }
    
        .kanban-column {
            min-width: 100%;
        }
    
        .modal {
            width: 95%;
            padding: 20px;
        }
    
        .header {
            padding: 10px 15px;
            flex-wrap: wrap;
        }

        .header-title {
            font-size: 20px;
            margin-bottom: 10px;
        }

        .header-actions {
            gap: 10px;
        }

        .btn {
            padding: 8px 12px;
            font-size: 12px;
        }
    
        .filter-bar {
            flex-direction: column;
            align-items: stretch;
            padding: 10px 15px;
            gap: 10px;
        }

        .filter-group {
            flex-direction: column;
            align-items: flex-start;
            gap: 4px;
        }

        .filter-label {
            font-size: 12px;
        }
    
        .kanban-container {
            padding: 15px;
        }

        .kanban-column {
            padding: 15px;
        }

        .column-title {
            font-size: 14px;
        }

        .note-card {
            padding: 12px;
        }

        .note-title {
            font-size: 13px;
        }

        .note-content {
            font-size: 12px;
        }

        .note-footer {
            font-size: 10px;
        }

        .tabs {
          padding: 0 15px;
        }

        .tab-btn {
          padding: 10px 15px;
          font-size: 13px;
        }

        .toast {
          bottom: 10px;
          right: 10px;
          left: 10px;
          max-width: none;
        }
    }
    
    /* Loading and Empty States */
    .empty-state {
        text-align: center;
        padding: 40px 20px;
        color: var(--text-secondary);
    }
    
    .empty-state i {
        font-size: 48px;
        margin-bottom: 16px;
        opacity: 0.5;
    }
    
    .empty-state p {
        font-size: 14px;
        margin-bottom: 20px;
    }
    
    /* Animation Classes */
    .fade-in {
        animation: fadeIn 0.3s ease-in-out;
    }
    
    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    .slide-in {
        animation: slideIn 0.3s ease-out;
    }
    
    @keyframes slideIn {
        from {
            transform: translateX(-100%);
        }
        to {
            transform: translateX(0);
        }
    }

    /* --- NEW STYLES FOR FAB AND RIGHT PANEL --- */
    .fab {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--warning-color) 0%, var(--danger-color) 100%);
      color: white;
      border: none;
      font-size: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: var(--shadow-lg);
      cursor: pointer;
      transition: all 0.3s ease;
      z-index: 1001;
    }

    .fab:hover {
      transform: scale(1.1) rotate(10deg);
      box-shadow: 0 15px 25px -5px rgba(0, 0, 0, 0.3);
    }

    .right-panel-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(4px);
      z-index: 1002;
      animation: fadeIn 0.3s ease;
    }

    .right-panel {
      position: fixed;
      top: 0;
      right: 0;
      width: 500px;
      height: 100%;
      background: var(--card-bg);
      backdrop-filter: blur(20px);
      border-left: 1px solid var(--border-color);
      box-shadow: var(--shadow-lg);
      z-index: 1003;
      display: flex;
      flex-direction: column;
      animation: slideInFromRight 0.3s ease-out;
    }
    
    @keyframes slideInFromRight {
      from { transform: translateX(100%); }
      to { transform: translateX(0); }
    }

    .right-panel-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px 30px;
      border-bottom: 1px solid var(--border-color);
    }

    .right-panel-title {
      font-size: 20px;
      font-weight: 600;
    }

    .right-panel-content {
      flex: 1;
      overflow-y: auto;
      padding: 30px;
    }
    
    .right-panel-content h4 {
      font-size: 18px;
      font-weight: 600;
      color: var(--text-primary);
      margin-top: 25px;
      margin-bottom: 15px;
      border-bottom: 1px solid var(--border-color);
      padding-bottom: 8px;
    }
    
    .right-panel-content h4:first-child {
      margin-top: 0;
    }

    .right-panel-content h5 {
      font-size: 15px;
      font-weight: 600;
      color: var(--primary-color);
      margin-top: 20px;
      margin-bottom: 10px;
    }

    .right-panel-content p {
      font-size: 14px;
      color: var(--text-secondary);
      line-height: 1.6;
      margin-bottom: 15px;
    }
    
    .right-panel-content ul {
      list-style: none;
      padding-left: 10px;
      margin-bottom: 15px;
    }

    .right-panel-content li {
      font-size: 14px;
      color: var(--text-secondary);
      line-height: 1.6;
      margin-bottom: 8px;
      position: relative;
      padding-left: 20px;
    }

    .right-panel-content li::before {
      content: 'â€¢';
      color: var(--primary-color);
      font-weight: bold;
      display: inline-block; 
      position: absolute;
      left: 0;
      top: 0;
    }
    
    .right-panel-content blockquote {
      border-left: 4px solid var(--primary-color);
      padding-left: 15px;
      margin: 20px 0;
      font-style: italic;
      color: var(--text-primary);
    }

    .cost-table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    
    .cost-table th,
    .cost-table td {
      border: 1px solid var(--border-color);
      padding: 10px 12px;
      text-align: left;
      font-size: 13px;
    }
    
    .cost-table th {
      background: var(--light-bg);
      font-weight: 600;
    }
    
    .cost-table td:last-child {
      text-align: right;
      font-weight: 500;
    }

    .cost-table strong {
      color: var(--text-primary);
      font-weight: 600;
    }
    
    @media (max-width: 768px) {
      .fab {
        bottom: 20px;
        right: 20px;
        width: 50px;
        height: 50px;
        font-size: 20px;
      }
      
      .right-panel {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div id="three-container"></div>
  <div id="vignette"></div>
  <script type="text/babel">
    const { useState, useEffect, useRef, useCallback } = React;
    
    // Mock User Data
    const mockUsers = [{
      id: 1,
      name: 'Wendy H.',
      role: 'General Manager',
      initials: 'W'
    }, {
      id: 2,
      name: 'Sarah Johnson',
      role: 'Operations Manager',
      initials: 'SJ'
    }, {
      id: 3,
      name: 'Gene X',
      role: 'Kitchen Manager',
      initials: 'MC'
    }, {
      id: 4,
      name: 'Emily Davis',
      role: 'Front of House Manager',
      initials: 'ED'
    }, {
      id: 5,
      name: 'Alex Rodriguez',
      role: 'Bar Manager',
      initials: 'AR'
    }];
    
    // Mock Notes Data with categories
    const mockNotes = [{
      id: 1,
      title: 'Staff Meeting Tomorrow',
      content: 'Monthly performance review meeting with all department heads. Please prepare your quarterly reports.',
      priority: 'high',
      dueDate: '2024-01-15',
      dueTime: '10:00',
      assignee: 1,
      author: 2,
      createdAt: '2024-01-14T09:30:00',
      status: 'todo',
      category: 'admin'
    }, {
      id: 2,
      title: 'New Menu Item Launch',
      content: 'Testing and finalizing the new seasonal spring menu items. Kitchen needs to finalize recipes.',
      priority: 'urgent',
      dueDate: '2024-01-14',
      dueTime: '15:00',
      assignee: 3,
      author: 1,
      createdAt: '2024-01-14T08:15:00',
      status: 'inprogress',
      category: 'kitchen'
    }, {
      id: 3,
      title: 'Health Inspection Preparation',
      content: 'Ensure all areas are inspection-ready. Check cleanliness, food storage, and documentation.',
      priority: 'high',
      dueDate: '2024-01-20',
      dueTime: '09:00',
      assignee: 4,
      author: 1,
      createdAt: '2024-01-13T14:20:00',
      status: 'todo',
      category: 'admin'
    }, {
      id: 4,
      title: 'Inventory Audit',
      content: 'Complete weekly inventory audit and submit to accounting. Focus on high-cost items.',
      priority: 'medium',
      dueDate: '2024-01-16',
      dueTime: '12:00',
      assignee: 5,
      author: 2,
      createdAt: '2024-01-14T07:45:00',
      status: 'completed',
      category: 'admin'
    }, {
      id: 5,
      title: 'Customer Service Training',
      content: 'Schedule and conduct customer service refresher training for all front-of-house staff.',
      priority: 'low',
      dueDate: '2024-01-25',
      dueTime: '14:00',
      assignee: 4,
      author: 1,
      createdAt: '2024-01-14T11:30:00',
      status: 'todo',
      category: 'foh'
    }, {
      id: 6,
      title: 'Bar Stock Replenishment',
      content: 'Order new spirits and check bar equipment.',
      priority: 'medium',
      dueDate: '2024-01-18',
      dueTime: '16:00',
      assignee: 5,
      author: 1,
      createdAt: '2024-01-14T12:00:00',
      status: 'todo',
      category: 'bar'
    }, {
      id: 7,
      title: 'Maintenance Check',
      content: 'Inspect HVAC and plumbing systems.',
      priority: 'high',
      dueDate: '2024-01-19',
      dueTime: '11:00',
      assignee: 2,
      author: 1,
      createdAt: '2024-01-14T13:00:00',
      status: 'inprogress',
      category: 'maintenance'
    }];
    
    // Note Card Component
    const NoteCard = ({ note, onEdit, onDelete, currentUser }) => {
      const [isDragging, setIsDragging] = useState(false);
      const cardRef = useRef(null);

      const handleDragStart = (e) => {
        setIsDragging(true);
        e.dataTransfer.effectAllowed = 'move';
        e.dataTransfer.setData('noteId', note.id);
      };

      const handleDragEnd = () => {
        setIsDragging(false);
      };

      const formatDate = (dateString) => {
        const date = new Date(dateString);
        return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
      };

      const formatTime = (timeString) => {
        if (!timeString) return '';
        const [hours, minutes] = timeString.split(':');
        const hour = parseInt(hours);
        const ampm = hour >= 12 ? 'PM' : 'AM';
        const displayHour = hour % 12 || 12;
        return `${displayHour}:${minutes} ${ampm}`;
      };

      const assignee = mockUsers.find((u) => u.id === note.assignee);

      return (
        <div
          ref={cardRef}
          className={`note-card ${note.priority} ${isDragging ? 'dragging' : ''}`}
          draggable="true"
          onDragStart={handleDragStart}
          onDragEnd={handleDragEnd}
        >
          <div className="note-header">
            <h4 className="note-title">{note.title}</h4>
            <span className={`note-priority priority-${note.priority}`}>
              {note.priority}
            </span>
          </div>
          <p className="note-content">{note.content}</p>
          <div className="note-footer">
            <div className="note-meta">
              {note.dueDate && (
                <span>
                  <i className="fa-regular fa-calendar"></i>
                  {formatDate(note.dueDate)}
                </span>
              )}
              {note.dueTime && (
                <span>
                  <i className="fa-regular fa-clock"></i>
                  {formatTime(note.dueTime)}
                </span>
              )}
            </div>
            {assignee && (
              <div className="note-assignee">
                <div className="assignee-avatar">{assignee.initials}</div>
                <span>{assignee.name.split(' ')[0]}</span>
              </div>
            )}
            <div className="note-actions">
              <button onClick={() => onEdit(note)} className="note-action-btn">
                <i className="fa-solid fa-edit"></i>
              </button>
              <button onClick={() => onDelete(note.id)} className="note-action-btn">
                <i className="fa-solid fa-trash"></i>
              </button>
            </div>
          </div>
        </div>
      );
    };

    // Kanban Column Component
    const KanbanColumn = ({ title, notes, status, onNoteDrop, onEdit, onDelete, currentUser }) => {
      const [isDragOver, setIsDragOver] = useState(false);

      const handleDragOver = (e) => {
        e.preventDefault();
        setIsDragOver(true);
      };

      const handleDragLeave = () => {
        setIsDragOver(false);
      };

      const handleDrop = (e) => {
        e.preventDefault();
        setIsDragOver(false);
        const noteId = parseInt(e.dataTransfer.getData('noteId'));
        onNoteDrop(noteId, status);
      };

      const statusIcons = {
        todo: 'fa-clipboard-list',
        inprogress: 'fa-spinner',
        completed: 'fa-check-circle',
      };

      return (
        <div className={`kanban-column ${isDragOver ? 'drag-over' : ''}`}>
          <div className="column-header">
            <div className="column-title">
              <i className={`fa-solid ${statusIcons[status]}`}></i>
              {title}
            </div>
            <span className="column-count">{notes.length}</span>
          </div>
          <div
            className="notes-list"
            onDragOver={handleDragOver}
            onDragLeave={handleDragLeave}
            onDrop={handleDrop}
          >
            {notes.length === 0 ? (
              <div className="empty-state">
                <i className="fa-solid fa-inbox"></i>
                <p>No items in this column</p>
              </div>
            ) : (
              notes.map((note) => (
                <NoteCard
                  key={note.id}
                  note={note}
                  onEdit={onEdit}
                  onDelete={onDelete}
                  currentUser={currentUser}
                />
              ))
            )}
          </div>
        </div>
      );
    };

    // Create Note Modal Component
    const CreateNoteModal = ({ isOpen, onClose, onSave, editingNote, currentUser }) => {
      const [formData, setFormData] = useState({
        title: '',
        content: '',
        priority: 'medium',
        dueDate: '',
        dueTime: '',
        assignee: currentUser.id,
        category: 'admin'
      });

      useEffect(() => {
        if (editingNote) {
          setFormData(editingNote);
        } else {
          setFormData({
            title: '',
            content: '',
            priority: 'medium',
            dueDate: '',
            dueTime: '',
            assignee: currentUser.id,
            category: 'admin'
          });
        }
      }, [editingNote, currentUser, isOpen]);

      const handleSubmit = (e) => {
        e.preventDefault();
        onSave(formData);
      };

      const handleInputChange = (e) => {
        const { name, value } = e.target;
        setFormData((prev) => ({ ...prev, [name]: value }));
      };

      const handlePrioritySelect = (priority) => {
        setFormData((prev) => ({ ...prev, priority }));
      };

      if (!isOpen) return null;

      return (
        <div className="modal-overlay">
          <div className="modal">
            <div className="modal-header">
              <h2 className="modal-title">
                {editingNote ? 'Edit Note' : 'Create New Note'}
              </h2>
              <button className="modal-close" onClick={onClose}>
                <i className="fa-solid fa-times"></i>
              </button>
            </div>
            <form onSubmit={handleSubmit}>
              <div className="form-group">
                <label className="form-label">Title</label>
                <input
                  type="text"
                  name="title"
                  className="form-input"
                  value={formData.title}
                  onChange={handleInputChange}
                  placeholder="Enter note title..."
                  required
                />
              </div>
              <div className="form-group">
                <label className="form-label">Content</label>
                <textarea
                  name="content"
                  className="form-textarea"
                  value={formData.content}
                  onChange={handleInputChange}
                  placeholder="Describe the task or message..."
                  required
                ></textarea>
              </div>
              <div className="form-group">
                <label className="form-label">Priority Level</label>
                <div className="priority-options">
                  {['urgent', 'high', 'medium', 'low'].map((p) => (
                    <div
                      key={p}
                      className={`priority-option ${p} ${formData.priority === p ? 'selected' : ''}`}
                      onClick={() => handlePrioritySelect(p)}
                    >
                      {p === 'urgent' && <i className="fa-solid fa-exclamation-circle"></i>}
                      {p === 'high' && <i className="fa-solid fa-exclamation-triangle"></i>}
                      {p === 'medium' && <i className="fa-solid fa-flag"></i>}
                      {p === 'low' && <i className="fa-solid fa-check"></i>}
                      <div>{p.charAt(0).toUpperCase() + p.slice(1)}</div>
                    </div>
                  ))}
                </div>
              </div>
              <div className="form-row">
                <div className="form-group">
                  <label className="form-label">Due Date</label>
                  <input
                    type="date"
                    name="dueDate"
                    className="form-input"
                    value={formData.dueDate}
                    onChange={handleInputChange}
                  />
                </div>
                <div className="form-group">
                  <label className="form-label">Due Time</label>
                  <input
                    type="time"
                    name="dueTime"
                    className="form-input"
                    value={formData.dueTime}
                    onChange={handleInputChange}
                  />
                </div>
              </div>
              <div className="form-group">
                <label className="form-label">Assign To</label>
                <select
                  name="assignee"
                  className="form-select"
                  value={formData.assignee}
                  onChange={handleInputChange}
                >
                  {mockUsers.map((user) => (
                    <option key={user.id} value={user.id}>
                      {user.name} - {user.role}
                    </option>
                  ))}
                </select>
              </div>
              <div className="form-group">
                <label className="form-label">Category</label>
                <select
                  name="category"
                  className="form-select"
                  value={formData.category}
                  onChange={handleInputChange}
                >
                  <option value="foh">Front of House</option>
                  <option value="kitchen">Kitchen</option>
                  <option value="admin">Admin</option>
                  <option value="bar">Bar</option>
                  <option value="maintenance">Maintenance</option>
                  <option value="bottleshop">Bottleshop</option>
                </select>
              </div>
              <div className="form-actions">
                <button type="button" className="btn btn-secondary" onClick={onClose}>
                  Cancel
                </button>
                <button type="submit" className="btn btn-primary">
                  <i className="fa-solid fa-save"></i>
                  {editingNote ? 'Update Note' : 'Create Note'}
                </button>
              </div>
            </form>
          </div>
        </div>
      );
    };

    // Main Application Component
    const MainApp = ({ currentUser, onLogout }) => {
      const [notes, setNotes] = useState(mockNotes);
      const [isModalOpen, setIsModalOpen] = useState(false);
      const [editingNote, setEditingNote] = useState(null);
      const [activeView, setActiveView] = useState('board');
      const [filterPriority, setFilterPriority] = useState('all');
      const [filterAssignee, setFilterAssignee] = useState('all');
      const [sortBy, setSortBy] = useState('date');
      const [sidebarOpen, setSidebarOpen] = useState(true);
      const [isMobile, setIsMobile] = useState(window.innerWidth <= 768);
      const [isFilterOpen, setIsFilterOpen] = useState(false);
      const [showToast, setShowToast] = useState(true);
      
      const categories = [
        { id: 'foh', name: 'Front of House' },
        { id: 'kitchen', name: 'Kitchen' },
        { id: 'admin', name: 'Admin' },
        { id: 'bar', name: 'Bar' },
        { id: 'maintenance', name: 'Maintenance' },
        { id: 'belowdeck', name: 'Bottle Shop' }
      ];
      const [currentCategory, setCurrentCategory] = useState(categories[0].id);
      
      // --- NEW STATE FOR RIGHT PANEL ---
      const [isPanelOpen, setIsPanelOpen] = useState(false);

      useEffect(() => {
        const handleResize = () => {
          setIsMobile(window.innerWidth <= 768);
        };
        window.addEventListener('resize', handleResize);
        return () => window.removeEventListener('resize', handleResize);
      }, []);

      useEffect(() => {
        if (showToast) {
          const timer = setTimeout(() => setShowToast(false), 5000);
          return () => clearTimeout(timer);
        }
      }, [showToast]);

      const handleCreateNote = () => {
        setEditingNote(null);
        setIsModalOpen(true);
      };

      const handleEditNote = (note) => {
        setEditingNote(note);
        setIsModalOpen(true);
      };

      const handleSaveNote = (noteData) => {
        if (editingNote) {
          setNotes((prev) =>
            prev.map((note) =>
              note.id === editingNote.id ? { ...note, ...noteData } : note
            )
          );
        } else {
          const newNote = {
            ...noteData,
            id: Date.now(),
            author: currentUser.id,
            createdAt: new Date().toISOString(),
            status: 'todo'
          };
          setNotes((prev) => [...prev, newNote]);
        }
        setIsModalOpen(false);
        setEditingNote(null);
      };

      const handleDeleteNote = (noteId) => {
        if (window.confirm('Are you sure you want to delete this note?')) {
          setNotes((prev) => prev.filter((note) => note.id !== noteId));
        }
      };

      const handleNoteDrop = (noteId, newStatus) => {
        setNotes((prev) =>
          prev.map((note) =>
            note.id === noteId ? { ...note, status: newStatus } : note
          )
        );
      };

      const filteredNotes = notes
        .filter((note) => note.category === currentCategory)
        .filter((note) => {
          const priorityMatch = filterPriority === 'all' || note.priority === filterPriority;
          const assigneeMatch = filterAssignee === 'all' || note.assignee.toString() === filterAssignee;
          return priorityMatch && assigneeMatch;
        })
        .sort((a, b) => {
          switch (sortBy) {
            case 'priority':
              const priorityOrder = { urgent: 0, high: 1, medium: 2, low: 3 };
              return priorityOrder[a.priority] - priorityOrder[b.priority];
            case 'date':
              return new Date(b.createdAt) - new Date(a.createdAt);
            case 'dueDate':
              if (!a.dueDate) return 1;
              if (!b.dueDate) return -1;
              return new Date(a.dueDate) - new Date(b.dueDate);
            default:
              return 0;
          }
        });

      const todoNotes = filteredNotes.filter((note) => note.status === 'todo');
      const inProgressNotes = filteredNotes.filter((note) => note.status === 'inprogress');
      const completedNotes = filteredNotes.filter((note) => note.status === 'completed');

      useEffect(() => {
        gsap.from('.header', { y: -50, duration: 0.5, delay: 0.2, ease: 'power2.out' });
        gsap.from('.kanban-column', {
          y: 30,
          duration: 0.5,
          delay: 0.3,
          stagger: 0.1,
          ease: 'power2.out',
        });
        gsap.from('.note-card', {
          y: 20,
          duration: 0.3,
          stagger: 0.1,
          delay: 0.5,
          ease: 'power2.out',
        });
      }, [notes, currentCategory]);

      const toggleSidebar = () => setSidebarOpen(!sidebarOpen);
      const toggleFilter = () => setIsFilterOpen(!isFilterOpen);

      return (
        <div className="app-container">
          <div className={`sidebar ${sidebarOpen ? 'open' : 'collapsed'}`}>
            <div className="user-profile">
              <div className="user-avatar">{currentUser.initials}</div>
              <div className="user-info">
                <h3>{currentUser.name}</h3>
                <p>{currentUser.role}</p>
              </div>
            </div>
            <nav>
              <ul className="nav-menu">
                <li className="nav-item">
                  <a className="nav-link active" onClick={() => setActiveView('board')}>
                    <i className="fa-solid fa-th-large"></i>
                    <span>Kanban Board</span>
                  </a>
                </li>
                <li className="nav-item">
                  <a className="nav-link" onClick={() => setActiveView('notifications')}>
                    <i className="fa-solid fa-bell"></i>
                    <span>Notifications</span>
                    <span className="notification-badge">
                      <span className="badge">3</span>
                    </span>
                  </a>
                </li>
                <li className="nav-item">
                  <a className="nav-link" onClick={() => setActiveView('team')}>
                    <i className="fa-solid fa-users"></i>
                    <span>Team Members</span>
                  </a>
                </li>
                <li className="nav-item">
                  <a className="nav-link" onClick={() => setActiveView('reports')}>
                    <i className="fa-solid fa-chart-bar"></i>
                    <span>Reports</span>
                  </a>
                </li>
                <li className="nav-item">
                  <a className="nav-link" onClick={() => setActiveView('settings')}>
                    <i className="fa-solid fa-cog"></i>
                    <span>Settings</span>
                  </a>
                </li>
                <li className="nav-item" style={{ marginTop: 'auto' }}>
                  <a className="nav-link" onClick={onLogout}>
                    <i className="fa-solid fa-sign-out-alt"></i>
                    <span>Logout</span>
                  </a>
                </li>
              </ul>
            </nav>
          </div>
          
          {sidebarOpen && isMobile && (
            <div className="overlay" onClick={toggleSidebar}></div>
          )}

          <div className="main-content">
            <header className="header">
              <h1 className="header-title">Boathouse KanBan</h1>
              <div className="header-actions">
                <button
                  className="sidebar-toggle btn btn-secondary"
                  onClick={toggleSidebar}
                >
                  <i className={sidebarOpen ? 'fa-solid fa-chevron-left' : 'fa-solid fa-chevron-right'}></i>
                </button>
                <button className="btn btn-secondary" onClick={toggleFilter}>
                  <i className="fa-solid fa-filter"></i>
                  {isFilterOpen ? "Close Filters" : "Filters"}
                </button>
                <button className="btn btn-primary" onClick={handleCreateNote}>
                  <i className="fa-solid fa-plus"></i>
                  New Note
                </button>
              </div>
            </header>
            
            <div className="tabs">
              {categories.map((cat) => (
                <button
                  key={cat.id}
                  className={`tab-btn ${currentCategory === cat.id ? 'active' : ''}`}
                  onClick={() => setCurrentCategory(cat.id)}
                >
                  {cat.name}
                </button>
              ))}
            </div>

            {isFilterOpen && (
              <div className="filter-bar">
                <div className="filter-group">
                  <label className="filter-label">Priority:</label>
                  <select
                    className="form-select"
                    style={{ width: '120px' }}
                    value={filterPriority}
                    onChange={(e) => setFilterPriority(e.target.value)}
                  >
                    <option value="all">All</option>
                    <option value="urgent">Urgent</option>
                    <option value="high">High</option>
                    <option value="medium">Medium</option>
                    <option value="low">Low</option>
                  </select>
                </div>
                <div className="filter-group">
                  <label className="filter-label">Assignee:</label>
                  <select
                    className="form-select"
                    style={{ width: '150px' }}
                    value={filterAssignee}
                    onChange={(e) => setFilterAssignee(e.target.value)}
                  >
                    <option value="all">Everyone</option>
                    {mockUsers.map((user) => (
                      <option key={user.id} value={user.id}>
                        {user.name}
                      </option>
                    ))}
                  </select>
                </div>
                <div className="filter-group">
                  <label className="filter-label">Sort by:</label>
                  <select
                    className="form-select"
                    style={{ width: '120px' }}
                    value={sortBy}
                    onChange={(e) => setSortBy(e.target.value)}
                  >
                    <option value="date">Date</option>
                    <option value="priority">Priority</option>
                    <option value="dueDate">Due Date</option>
                  </select>
                </div>
              </div>
            )}

            <div className="kanban-container">
              <div className="kanban-board">
                <KanbanColumn
                  title="To Do"
                  notes={todoNotes}
                  status="todo"
                  onNoteDrop={handleNoteDrop}
                  onEdit={handleEditNote}
                  onDelete={handleDeleteNote}
                  currentUser={currentUser}
                />
                <KanbanColumn
                  title="In Progress"
                  notes={inProgressNotes}
                  status="inprogress"
                  onNoteDrop={handleNoteDrop}
                  onEdit={handleEditNote}
                  onDelete={handleDeleteNote}
                  currentUser={currentUser}
                />
                <KanbanColumn
                  title="Completed"
                  notes={completedNotes}
                  status="completed"
                  onNoteDrop={handleNoteDrop}
                  onEdit={handleEditNote}
                  onDelete={handleDeleteNote}
                  currentUser={currentUser}
                />
              </div>
            </div>


            {/* --- NEW CODE START --- */}

<button 
  className="fab" 
  onClick={() => setIsPanelOpen(true)}
>
  <i className="fa-solid fa-fire"></i>
</button>

{isPanelOpen && 
  <div 
    className="right-panel-overlay" 
    onClick={() => setIsPanelOpen(false)}
  >
    <div 
      className="right-panel" 
      onClick={(e) => e.stopPropagation()}
    >
      <div className="right-panel-header">
        <h3 className="right-panel-title">ðŸ“Œ Proof of Concept Overview</h3>
        <button 
          className="modal-close" 
          onClick={() => setIsPanelOpen(false)}
        >
          <i className="fa-solid fa-times"></i>
        </button>
      </div>

      <div className="right-panel-content">

        <h4>SMS â†’ Kanban Urgent Request System</h4>
        <p>
          This panel outlines the concept, operational value, and cost context for
          implementing an SMS-based escalation system integrated directly into the 
          Boathouse Kanban board.
        </p>

        <h4>Operational Value</h4>
        <ul>
          <li>Enables FOH & BOH staff to escalate urgent requests instantly via SMS</li>
          <li>Managers receive immediate visibility and notifications</li>
          <li>Reduces delays in handling allergies, VIPs, guest recovery, and special events</li>
          <li>Centralizes all urgent requests into a structured workflow</li>
          <li>Improves service reliability during high-volume periods</li>
        </ul>

        <h4>Development Scope</h4>
        <ul>
          <li>SMS gateway integration + employee validation</li>
          <li>Database + backend API for urgent notes</li>
          <li>Real-time updates into â€œUrgent Requestsâ€ board column</li>
          <li>Toast notifications for management</li>
          <li>Assignment workflow (claim, delegate, resolve)</li>
          <li>Final QA, deployment, and documentation</li>
        </ul>

        <h4>Cost Context</h4>
        <p>
          A comparable contractor or agency implementation would typically fall in
          the <strong>$10â€“20k</strong> range, depending on depth of integration.
        </p>
        <p>
          Proposed internal development cost: <strong>$3â€“4k</strong>.
        </p>
        <p>
          This reflects a significantly reduced internal rate, streamlined development,
          and direct operational experience with the restaurantâ€™s workflow.
        </p>

        <h4>Purpose</h4>
        <p>
          The intention is to provide a cost-effective, high-impact system designed to
          improve communication efficiency and service quality. This proposal surfaces
          realistic expectations while acknowledging internal investment and operational
          value returned to the business.
        </p>

      </div>
    </div>
  </div>
}

{/* --- NEW CODE END --- */}

          </div>

          <CreateNoteModal
            isOpen={isModalOpen}
            onClose={() => setIsModalOpen(false)}
            onSave={handleSaveNote}
            editingNote={editingNote}
            currentUser={currentUser}
          />

          {showToast && (
            <div className="toast">
              <i className="fa-solid fa-sms"></i>
              Try our SMS feature: Get real-time notifications on your phone for urgent tasks!
              <button onClick={() => setShowToast(false)}>Ã—</button>
            </div>
          )}
          
          {/* --- NEW CODE START --- */}
      
          <button 
            className="fab" 
            onClick={() => setIsPanelOpen(true)}
          >
            <i className="fa-solid fa-fire"></i>
          </button>
          
          {isPanelOpen && 
  <div 
    className="right-panel-overlay" 
    onClick={() => setIsPanelOpen(false)}
  >
    <div 
      className="right-panel" 
      onClick={(e) => e.stopPropagation()}
    >
      <div className="right-panel-header">
        <h3 className="right-panel-title">ðŸ“Œ Proof of Concept Overview</h3>
        <button 
          className="modal-close" 
          onClick={() => setIsPanelOpen(false)}
        >
          <i className="fa-solid fa-times"></i>
        </button>
      </div>

      <div className="right-panel-content">

        <h4>SMS â†’ Kanban Urgent Request System</h4>
        <p>
          This panel outlines the concept, operational value, and cost context for
          implementing an SMS-based escalation system integrated directly into the 
          Boathouse Kanban board.
        </p>

        <h4>Operational Value</h4>
        <ul>
          <li>Enables FOH & BOH staff to escalate urgent requests instantly via SMS</li>
          <li>Managers receive immediate visibility and notifications</li>
          <li>Reduces delays in handling allergies, VIPs, guest recovery, and special events</li>
          <li>Centralizes all urgent requests into a structured workflow</li>
          <li>Improves service reliability during high-volume periods</li>
        </ul>

        <h4>Development Scope</h4>
        <ul>
          <li>SMS gateway integration + employee validation</li>
          <li>Database + backend API for urgent notes</li>
          <li>Real-time updates into â€œUrgent Requestsâ€ board column</li>
          <li>Toast notifications for management</li>
          <li>Assignment workflow (claim, delegate, resolve)</li>
          <li>Final QA, deployment, and documentation</li>
        </ul>

        <h4>Cost Context</h4>
        <p>
          A comparable contractor or agency implementation would typically fall in
          the <strong>$10â€“20k</strong> range, depending on depth of integration.
        </p>
        <p>
          Proposed internal development cost: <strong>$3â€“4k</strong>.
        </p>
        <p>
          This reflects a significantly reduced internal rate, streamlined development,
          and direct operational experience with the restaurantâ€™s workflow.
        </p>

        <h4>Purpose</h4>
        <p>
          The intention is to provide a cost-effective, high-impact system designed to
          improve communication efficiency and service quality. This proposal surfaces
          realistic expectations while acknowledging internal investment and operational
          value returned to the business.
        </p>

      </div>
    </div>
  </div>
}

          
        </div>
      );
    };

    // Main App Component
    const App = () => {
      const [currentUser, setCurrentUser] = useState(mockUsers[0]);
      const [isPanelOpen, setIsPanelOpen] = useState(false);

      const handleLogout = () => {
        console.log('Logged out');
        // In a real app, you'd set currentUser to null and show a login screen
      };

      return <MainApp currentUser={currentUser} onLogout={handleLogout} />;
    };

    // Render the app
    const appContent = document.createElement('div');
    appContent.style.overflow = 'hidden';
    appContent.style.position = 'absolute';
    const root = ReactDOM.createRoot(appContent);
    root.render(<App />);

    function initThree() {
      const container = document.getElementById('three-container');
      let width = window.innerWidth;
      let height = window.innerHeight;
      const scene = new THREE.Scene();
      const fov = 75;
      const camera = new THREE.PerspectiveCamera(fov, width / height, 1, 5000);
      let z = (height / 2) / Math.tan((fov / 2) * Math.PI / 180);
      camera.position.z = z;

      const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
      renderer.setSize(width, height);
      renderer.setClearColor(0x000000, 0);
      container.appendChild(renderer.domElement);

      const cssRenderer = new THREE.CSS3DRenderer();
      cssRenderer.setSize(width, height);
      cssRenderer.domElement.style.position = 'absolute';
      cssRenderer.domElement.style.top = 0;
      cssRenderer.domElement.style.left = 0;
      container.appendChild(cssRenderer.domElement);

      // Particles
      const particlesGeometry = new THREE.BufferGeometry();
      const particlesCount = 100;
      const posArray = new Float32Array(particlesCount * 3);
      for (let i = 0; i < particlesCount * 3; i++) {
        posArray[i] = (Math.random() - 0.5) * 2000;
      }
      particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
      const particlesMaterial = new THREE.PointsMaterial({
        size: 5,
        color: 0xffffff,
        transparent: true,
        opacity: 0.2,
      });
      const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
      scene.add(particlesMesh);

      // Geometric shapes
      const geometries = [
        new THREE.BoxGeometry(200, 200, 200),
        new THREE.SphereGeometry(150, 32, 32),
        new THREE.TetrahedronGeometry(180, 0),
      ];
      const meshes = geometries.map((geometry, index) => {
        const material = new THREE.MeshBasicMaterial({
          color: new THREE.Color(0x3b82f6).lerp(new THREE.Color(0x8b5cf6), index / geometries.length),
          wireframe: true,
          transparent: true,
          opacity: 0.4,
        });
        const mesh = new THREE.Mesh(geometry, material);
        mesh.position.set((Math.random() - 0.5) * 2000, (Math.random() - 0.5) * 2000, (Math.random() - 0.5) * 2000 - 1000);
        scene.add(mesh);
        return mesh;
      });

      // App content object
      appContent.style.width = width + 'px';
      appContent.style.height = height + 'px';
      
      // Add the React app's container to the CSS renderer's DOM
      cssRenderer.domElement.appendChild(appContent); 
      
      const object = new THREE.CSS3DObject(appContent);
      object.position.set(0, 0, 0);
      scene.add(object);

      // Animation loop
      const animate = () => {
        requestAnimationFrame(animate);
        particlesMesh.rotation.y += 0.0002;
        particlesMesh.rotation.x += 0.0001;
        meshes.forEach((mesh, index) => {
          mesh.rotation.x += 0.001;
          mesh.rotation.y += 0.001;
          mesh.position.z += Math.sin(Date.now() * 0.001 + index) * 0.1;
        });
        renderer.render(scene, camera);
        cssRenderer.render(scene, camera);
      };
      animate();

      // Parallax on mouse move
      const handleMouseMove = (e) => {
        const mouseX = (e.clientX / width) * 2 - 1;
        const mouseY = -(e.clientY / height) * 2 + 1;
        gsap.to(object.rotation, {
          y: mouseX * 0.01,
          x: mouseY * 0.01,
          duration: 0.5,
          ease: 'power2.out'
        });
      };
      document.addEventListener('mousemove', handleMouseMove);

      // Handle resize
      const handleResize = () => {
        width = window.innerWidth;
        height = window.innerHeight;
        camera.aspect = width / height;
        z = (height / 2) / Math.tan((fov / 2) * Math.PI / 180);
        camera.position.z = z;
        camera.updateProjectionMatrix();
        renderer.setSize(width, height);
        cssRenderer.setSize(width, height);
        appContent.style.width = width + 'px';
        appContent.style.height = height + 'px';
      };
      window.addEventListener('resize', handleResize);
    }

    initThree();

  </script>
</body>
</html>
