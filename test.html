<DOCUMENT filename="cv.html">
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width,initial-scale=1,viewport-fit=cover,user-scalable=no,maximum-scale=1.0,minimum-scale=1.0" name="viewport">
    <title>Zack Gort, Experience Design</title>
    <link href="https://fonts.googleapis.com" rel="preconnect" crossorigin>
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&family=JetBrains+Mono:wght@500&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/3.0.3/jspdf.umd.min.js"></script>
    <style>
:root {
        /* DEFAULT DARK THEME */
        --bg-color: #0f1014;
        --card-color: transparent;
        --ink: #ffffff;
        --ink-2: #9f9f9f;
        --ink-3: #6c6c6c;
        --accent: #83ff83;
        --curve-k: 1;
        --vig-opacity: .9;
        --edge-blur: 2.8px;
        --cursor-size: 20px;
        --corner-pad: clamp(14px, 2.4vw, 24px);
        --corner-top: calc(env(safe-area-inset-top) + clamp(12px, 2vh, 18px));
        --z-grain: 149;
        --z-blur: 150;
        --z-vig: 151;
        --z-ui: 220;
        --z-overlay: 250;
        --z-cursor: 230;
        --glass-bg: rgba(255, 255, 255, 0.04);
        --glass-bg-hover: rgba(255, 255, 255, 0.08);
        --glass-bg-bright: rgba(255, 255, 255, 0.12);
        --glass-border: rgba(255, 255, 255, 0.12);
        --fab-size: 80px;
        --fab-bottom: calc(env(safe-area-inset-bottom) + clamp(16px, 3vh, 32px));
        --base-font-size: 14px;
        --subtle-outline: rgba(255, 255, 255, 0.08);
        --font-stack: Inter, ui-sans-serif, system-ui;
      }
      
      [data-theme="light"] {
        --bg-color: #f8f8f8;
        --ink: #0f1014;
        --ink-2: #444444;
        --ink-3: #777777;
        --accent: #000000;
        --glass-bg: rgba(255, 255, 255, 0.98);
        --glass-bg-hover: rgba(255, 255, 255, 1);
        --glass-bg-bright: rgba(255, 255, 255, 1);
        --glass-border: rgba(0, 0, 0, 0.15);
        --vig-opacity: 0.5;
        --subtle-outline: rgba(0, 0, 0, 0.05);
        color-scheme: light;
      }
      
      /* NEW ROSE THEME (BAUHAUS/GLASS STYLE) */
      [data-theme="rose"] {
        --bg-color: #FF8DA1; /* The Wall of Pink */
        --ink: #000000; /* Stark Black Ink */
        --ink-2: #222222; /* Dark Grey */
        --ink-3: #444444;
        --accent: #000000; /* Accents are black */
        /* Glass settings tuned for Pink background */
        --glass-bg: rgba(255, 255, 255, 0.75);
        --glass-bg-hover: rgba(255, 255, 255, 0.5);
        --glass-bg-bright: rgba(255, 255, 255, 0.6);
        --glass-border: rgba(0, 0, 0, 0.1);
        --vig-opacity: 0.2; /* Soft vignette */
        --subtle-outline: rgba(0, 0, 0, 0.05);
        color-scheme: light;
      }
      
      /* BAUHAUS / BRUTALIST THEME */
      [data-theme="bauhaus"] {
        --bg-color: #f4f4f4;
        --ink: #111111;
        --ink-2: #333333;
        --ink-3: #555555;
        --accent: #000000;
        --glass-bg: rgba(255, 255, 255, 0.98);
        --glass-bg-hover: #ffffff;
        --glass-bg-bright: #ffffff;
        --glass-border: #111111;
        --vig-opacity: 0;
        --subtle-outline: #111111;
        --font-stack: "Helvetica Neue", Helvetica, Arial, sans-serif;
        color-scheme: light;
      }
      
      /* --- TYPOGRAPHIC / OVERSIZED THEME --- */
      [data-theme="typographic"] {
          --bg-color: #f8f8f8;
          --ink: #0f1014;
          --ink-2: #444444;
          --ink-3: #777777;
          --accent: #000000; 
          --glass-bg: transparent;
          --glass-bg-hover: #ffffff;
          --glass-border: transparent;
          --vig-opacity: 0;
          --subtle-outline: #000;
          --font-stack: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
          color-scheme: light;
      }
  
      /* --- TYPOGRAPHIC: LIST VIEW OVERRIDES --- */
      [data-theme="typographic"] .portfolio-container {
          max-width: 98%; 
          padding-left: 5%; 
          padding-right: 1%;
      }
      [data-theme="typographic"] .project-item {
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
          padding: 4vw 0;
          border-bottom: 6px solid var(--ink);
          border-radius: 0;
      }
      [data-theme="typographic"] .project-item:hover {
          background: transparent;
          opacity: 0.7;
      }
      [data-theme="typographic"] .project-item.hero .project-data.artist {
          font-size: clamp(5rem, 18vw, 22rem);
          line-height: 0.8;
          letter-spacing: -0.06em;
          font-weight: 900;
          text-transform: uppercase;
          margin-left: -0.05em;
      }
      [data-theme="typographic"] .project-item.hero .project-data.album {
          font-size: clamp(1.5rem, 4vw, 4rem);
          font-weight: 400;
          margin-top: 1rem;
      }
      [data-theme="typographic"] .project-item.experience .project-data.artist {
          font-size: clamp(3rem, 9vw, 10rem);
          line-height: 0.9;
          font-weight: 900;
          letter-spacing: -0.04em;
          color: var(--ink);
      }
      [data-theme="typographic"] .project-item.experience .project-data.role {
          font-size: clamp(1.2rem, 3vw, 2.5rem);
          font-weight: 700;
          color: var(--accent); 
          margin-top: 0.5rem;
      }
      [data-theme="typographic"] .project-item.experience .project-data.year {
          font-size: clamp(1rem, 2vw, 1.5rem);
          font-family: 'JetBrains Mono', monospace;
          text-align: left;
          margin-bottom: 1rem;
      }
      [data-theme="typographic"] .project-item.section {
          border-bottom: none;
          padding-bottom: 0;
          margin-top: 6rem;
      }
      [data-theme="typographic"] .project-item.section .project-data.artist {
          font-size: clamp(2rem, 5vw, 4rem);
          text-transform: uppercase;
          letter-spacing: 0.2em;
          font-weight: 600;
          border-bottom: 2px solid var(--ink);
          display: inline-block;
      }
  
      /* --- TYPOGRAPHIC: GRID VIEW OVERRIDES --- */
      [data-theme="typographic"] .grid-container {
          max-width: 98%;
          padding: 4rem 1% 4rem 5%;
      }
      [data-theme="typographic"] .grid-section-title {
          font-size: clamp(4rem, 12vw, 14rem);
          font-weight: 900;
          text-transform: uppercase;
          letter-spacing: -0.05em;
          line-height: 0.8;
          color: var(--ink);
          border-bottom: 8px solid var(--ink);
          margin-bottom: 3rem;
          padding-bottom: 1rem;
          padding-left: 0;
          opacity: 1;
          width: 100%;
      }
      [data-theme="typographic"] .grid-items {
          grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
          gap: 2rem;
      }
      @media (max-width: 768px) {
          [data-theme="typographic"] .grid-items {
              grid-template-columns: 1fr;
          }
          [data-theme="typographic"] .grid-section-title {
              font-size: 18vw;
              border-bottom: 4px solid var(--ink);
          }
      }
      [data-theme="typographic"] .grid-item {
          background: transparent;
          border: 4px solid var(--ink);
          border-radius: 0;
          padding: 2.5rem;
          box-shadow: none;
          transition: transform 0.1s steps(1), box-shadow 0.1s steps(1), background 0.1s steps(1);
          display: flex;
          flex-direction: column;
          justify-content: flex-start;
      }
      [data-theme="typographic"] .grid-item:hover {
          transform: translate(-6px, -6px);
          box-shadow: 10px 10px 0px var(--ink);
          background: #fff;
          border-color: var(--ink);
          z-index: 10;
      }
      [data-theme="typographic"] .grid-item h4 {
          font-size: clamp(2.5rem, 5vw, 4.5rem);
          line-height: 0.9;
          margin-bottom: 0.5rem;
          font-weight: 800;
          letter-spacing: -0.03em;
          color: var(--ink);
      }
      [data-theme="typographic"] .grid-item .role {
          font-size: 1.25rem;
          font-weight: 700;
          color: var(--accent);
          text-transform: uppercase;
          letter-spacing: 0.05em;
          margin-bottom: 0.5rem;
          opacity: 1;
      }
      [data-theme="typographic"] .grid-item .duration {
          font-family: 'JetBrains Mono', monospace;
          font-size: 1rem;
          font-weight: 600;
          opacity: 1;
          text-align: left;
          border-bottom: 2px solid var(--ink);
          padding-bottom: 1rem;
          margin-bottom: 1.5rem;
          display: block;
          width: 100%;
      }
      [data-theme="typographic"] .grid-item p {
          font-size: 1.15rem;
          line-height: 1.5;
          font-weight: 500;
          opacity: 1;
      }
      [data-theme="typographic"] .pill {
          background: var(--ink);
          color: var(--bg-color);
          font-weight: 700;
          border: none;
          border-radius: 0;
          font-size: 0.9rem;
          text-transform: uppercase;
      }
      [data-theme="typographic"] .grid-item details {
          margin-top: auto;
          border-left: 4px solid var(--accent);
          padding-left: 1rem;
      }
      [data-theme="typographic"] .grid-item summary {
          font-size: 1.25rem;
          font-weight: 800;
          text-transform: uppercase;
      }
      [data-theme="typographic"] .edge-blur,
      [data-theme="typographic"] .vignette,
      [data-theme="typographic"] #cursor {
          display: none;
      }
      [data-theme="typographic"] .curved {
          transform: none !important;
      }
  
      
      /* Bauhaus Specific Overrides */
      [data-theme="bauhaus"] .curved { transform: none !important; }
      [data-theme="bauhaus"] .edge-blur, [data-theme="bauhaus"] .vignette, [data-theme="bauhaus"] body::after { display: none; }
      [data-theme="bauhaus"] .project-item, [data-theme="bauhaus"] .grid-item, [data-theme="bauhaus"] details, [data-theme="bauhaus"] .sheet, [data-theme="bauhaus"] .fab, [data-theme="bauhaus"] .pill, [data-theme="bauhaus"] .view-toggle, [data-theme="bauhaus"] .theme-toggle { border-radius: 0 !important; }
      [data-theme="bauhaus"] .project-item:hover, [data-theme="bauhaus"] .grid-item:hover, [data-theme="bauhaus"] details[open], [data-theme="bauhaus"] details:hover { background: #fff; border: 3px solid var(--ink); box-shadow: 6px 6px 0px var(--ink); transform: translate(-3px, -3px); }
      [data-theme="bauhaus"] .project-item { border-bottom: 2px solid var(--ink); margin-bottom: 0; }
      [data-theme="bauhaus"] .grid-item { border: 2px solid var(--ink); background: #fff; }
      [data-theme="bauhaus"] h1, [data-theme="bauhaus"] h4, [data-theme="bauhaus"] .artist { text-transform: uppercase; letter-spacing: -0.02em; font-weight: 800; }
      [data-theme="bauhaus"] .pill { background: var(--ink); color: var(--bg-color); font-weight: 700; border: none; }
      [data-theme="bauhaus"] summary::after { content: "+"; font-weight: 900; font-size: 1.5rem; }
      [data-theme="bauhaus"] details[open] summary::after { content: "-"; }
      
      /* Logo adjustment */
      .logo img {
        height: 32px;
        width: auto;
        display: block;
        transition: opacity 0.2s ease;
      }
      
      *, *::before, *::after { box-sizing: border-box; }
      html { color-scheme: dark; font-size: var(--base-font-size); }
      body, html, #root { height: 100%; margin: 0; background: var(--bg-color); }
      body {
        color: var(--ink);
        font-family: var(--font-stack);
        line-height: 1.4;
        overflow: hidden;
        -webkit-font-smoothing: antialiased;
        touch-action: pan-y;
        -webkit-user-select: none;
        user-select: none;
        overscroll-behavior: none;
        transition: background-color 0.5s ease, color 0.5s ease;
      }
      .edge-blur {
        position: fixed; inset: 0; pointer-events: none; z-index: var(--z-blur);
        backdrop-filter: blur(var(--edge-blur)); -webkit-backdrop-filter: blur(var(--edge-blur));
        mask: radial-gradient(100% 64% at 50% 50%, transparent 60%, rgb(255 255 255 / 0.98) 75%);
      }
      @media (max-width: 768px) {
        .edge-blur {
          mask: radial-gradient(100% 80% at 50% 50%, transparent 70%, rgb(255 255 255 / 0.98) 85%);
        }
      }
      .vignette {
        position: fixed; inset: 0; pointer-events: none; z-index: var(--z-vig);
        background: radial-gradient(120% 90% at 50% 50%, #fff0 25%, rgb(0 0 0 / 0.62) 80%, rgb(0 0 0 / 0.98) 100%);
        opacity: var(--vig-opacity);
      }
      [data-theme="light"] .vignette, [data-theme="rose"] .vignette {
        background: radial-gradient(120% 90% at 50% 50%, #fff0 25%, rgb(255 255 255 / 0.62) 80%, rgb(255 255 255 / 0.98) 100%);
      }
      body::after {
        content: ""; position: fixed; inset: 0; pointer-events: none; z-index: var(--z-grain); opacity: 0.1;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.45'/%3E%3C/svg%3E");
        background-size: 120px 120px;
      }
      .curved {
        transform-style: preserve-3d;
        transform: perspective(2000px) rotateX(0deg) rotateY(0deg);
        will-change: transform;
      }
      
      /* MINIMALIST UI OVERRIDES */
      .view-toggle, .theme-toggle, .grid-item, .grid-section, details {
        border: 1px solid transparent;
        background: transparent;
        box-shadow: none;
        transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      }
      .view-toggle {
        position: fixed;
        top: 50%;
        transform: translateY(-50%);
        left: var(--corner-pad);
        z-index: var(--z-ui);
        display: flex;
        flex-direction: column;
        gap: 8px;
        padding: 6px;
      }
      .view-toggle:hover {
        background: var(--glass-bg);
        border-color: var(--glass-border);
      }
      .toggle-btn {
        appearance: none;
        border: 0;
        background: transparent;
        color: var(--ink-2);
        padding: 8px;
        cursor: pointer;
        border-radius: 4px;
        transition: all 0.2s ease;
      }
      .toggle-btn:hover {
        color: var(--ink);
        background: var(--glass-bg-hover);
      }
      .toggle-btn.active {
        color: var(--accent);
        background: color-mix(in oklch, var(--accent) 20%, transparent);
      }
      .toggle-btn svg {
        width: 20px;
        height: 20px;
        display: block;
      }
      
      /* List view */
      .listview-root {
        position: fixed; inset: 0; overflow-y: auto; background: transparent;
        backdrop-filter: none; -webkit-backdrop-filter: none; z-index: 20;
        -webkit-overflow-scrolling: touch;
      }
      [data-theme="light"] .listview-root, [data-theme="rose"] .listview-root {
        background: transparent;
      }
      .portfolio-container {
        position: relative; display: flex; flex-direction: column; gap: 0;
        width: 100%; margin: 0 auto;
        padding: 5rem 2rem 6rem 100px;
        max-width: 1280px;
        min-height: 100vh;
        pointer-events: auto; justify-content: flex-start;
        transform-style: preserve-3d;
      }
      @media (max-width: 768px) {
        .portfolio-container {
          padding: 2rem 1rem 4rem 80px;
          max-width: 100%;
        }
      }
      .project-list { list-style: none; margin: 0; padding: 0; width: 100%; }
      
      .project-item {
        cursor: default;
        width: 100%;
        display: grid;
        grid-template-columns: 180px 1.4fr 110px 3fr;
        gap: 2rem;
        padding: 18px 12px;
        align-items: baseline;
        border-bottom: 1px solid transparent;
        border-radius: 6px;
        transition: background 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease, transform 0.2s ease;
        position: relative;
        z-index: 2;
      }
      .project-item:hover {
        background: var(--glass-bg-hover);
      }
      /* MOBILE LAYOUT ADJUSTMENTS */
      @media (max-width: 768px) {
        .project-item, .project-item.quote, .project-item.skill {
          display: flex !important;
          grid-template-columns: none !important;
          flex-direction: column;
          gap: 8px;
          padding: 16px 0;
          border-bottom: 1px solid var(--glass-border);
        }
        .project-item:hover, [data-theme="typographic"] .project-item:hover {
          background: transparent;
          box-shadow: none;
          transform: none;
          border: none;
          border-bottom: 1px solid var(--glass-border);
        }
        /* Reapply typographic border on mobile */
        [data-theme="typographic"] .project-item, [data-theme="typographic"] .project-item:hover {
          border-bottom: 6px solid var(--ink) !important;
        }
      
        .project-item.experience .project-data.artist {
          font-size: 1.25rem;
          margin-bottom: 2px;
        }
        .project-item.experience .project-data.role {
          width: 100%;
          border-bottom: 1px solid var(--glass-border);
          padding-bottom: 8px;
          margin-bottom: 8px;
        }
        .project-item.experience .project-data.year {
          width: 100%;
          text-align: left !important;
          opacity: 0.6;
          font-size: 0.85rem;
          margin-bottom: 12px;
          font-family: 'JetBrains Mono', monospace;
        }
        .project-item.experience .project-data.album {
          margin-top: 0;
        }
        .quote .project-data.album,
        .project-item.skill .project-data.album,
        .project-item.summary .project-data.album,
        .project-item.hero .project-data.album { width: 100%; max-width: 100%; }
      }
      .project-data {
        white-space: normal;
        line-height: 1.4;
        padding: 0;
        color: var(--ink);
      }
      .project-data.artist {
        font-weight: 700;
        font-size: 1.15rem;
      }
      .project-data.album {
        opacity: 0.95;
        max-width: 680px;
      }
      
      /* Hero Overrides - UPDATED TYPOGRAPHY */
      .project-item.hero {
        display: flex; flex-direction: column; gap: 0.5rem; border-bottom: none; padding-bottom: 2rem;
      }
      .project-item.hero:hover {
        background: transparent; box-shadow: none; transform: none; border: none;
      }
      .project-item.hero .project-data.artist {
        font-size: 3.5rem; /* Increased from 3rem */
        font-weight: 700;
        letter-spacing: -0.04em;
      }
      .project-item.hero .project-data.album {
        font-size: 1.5rem; /* Increased from 1.4rem */
        opacity: 0.95;
      }
      
      @media (max-width: 768px) {
        .project-item.hero .project-data.artist { font-size: 2.25rem; /* Increased from 2rem */ }
        .project-item.hero .project-data.album { font-size: 1.25rem; line-height: 1.5; }
      }
      
      /* Section Headers */
      .project-item.section { display: block; padding-top: 2rem; }
      .project-item.section:hover {
        background: transparent; box-shadow: none; transform: none; border: none;
      }
      .project-item.section .project-data.artist { font-size: 1.6rem; opacity: 0.8; letter-spacing: 0.1em; text-transform: uppercase; }
      .project-item.section .project-data.album { display: none; }
      
      /* Summary Item */
      .project-item.summary { display: flex; flex-direction: column; gap: 0.5rem; }
      .project-item.summary .project-data.album { font-size: 1.1rem; line-height: 1.7; opacity: 0.95; max-width: 800px; }
      
      /* Experience Styles */
      .project-item.experience .project-data.artist { color: var(--accent); }
      .project-item.experience .project-data.role { font-style: italic; opacity: 0.9; }
      
      /* Year Style */
      .project-item.experience .project-data.year {
        text-align: right;
        opacity: 0.7;
        font-family: 'JetBrains Mono', monospace;
        font-size: 0.85rem;
        font-variant-numeric: tabular-nums;
        letter-spacing: -0.02em;
      }
      
      /* Quote/Skill Styles */
      .project-item.quote, .project-item.skill {
        grid-template-columns: 200px 1fr;
      }
      .project-item.skill .project-data.album { display: flex; flex-wrap: wrap; gap: 0.5rem; }
      .quote .project-data.album { font-style: italic; opacity: 0.85; }
      
      /* Active states */
      .listview-root.has-active .project-item { opacity: 0.6; }
      .listview-root.has-active .project-item.active { opacity: 1; }
      .listview-root.has-active .project-item.adjacent { opacity: 0.85; }
      
      /* Grid view */
      .gridview-root {
        position: fixed;
        inset: 0;
        overflow-y: auto;
        background: transparent;
        backdrop-filter: none;
        -webkit-backdrop-filter: none;
        z-index: 20;
        -webkit-overflow-scrolling: touch;
      }
      [data-theme="light"] .gridview-root, [data-theme="rose"] .gridview-root {
        background: transparent;
      }
      .grid-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 4rem 1rem 4rem 100px;
        display: flex;
        flex-direction: column;
        gap: 2rem;
        transform-style: preserve-3d;
      }
      @media (max-width: 768px) {
        .grid-container {
          padding: 2rem 1rem 2rem 80px;
        }
      }
      .grid-section {
        background: transparent;
        border: 1px solid transparent;
        padding: 1.5rem;
      }
      
      .grid-section-title {
        font-size: 1.6rem;
        opacity: 0.8;
        letter-spacing: 0.1em;
        text-transform: uppercase;
        margin-bottom: 1rem;
        padding-left: 1rem;
      }
      .grid-items {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 1rem;
      }
      .grid-item {
        background: transparent;
        border: 1px solid transparent;
        border-radius: 4px;
        padding: 1rem;
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        box-shadow: none;
      }
      .grid-item:hover {
        background: var(--glass-bg-hover);
        border-color: var(--glass-border);
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      }
      .grid-item.skill {
        border-radius: 999px;
        flex-direction: row;
        align-items: center;
        padding: 0.5rem 1rem;
      }
      .grid-item.skill h4 {
        margin: 0;
        white-space: nowrap;
      }
      .grid-item.skill p {
        margin: 0;
        flex: 1;
      }
      .grid-item h4 {
        font-size: 1.25rem;
        color: var(--accent);
        margin: 0;
      }
      .grid-item .role {
        font-style: italic;
        opacity: 0.9;
      }
      .grid-item .duration {
        text-align: right;
        opacity: 0.8;
        font-variant-numeric: tabular-nums;
      }
      .grid-item p {
        margin: 0;
        line-height: 1.5;
        opacity: 0.95;
      }
      .grid-item .detail {
        font-size: 0.95rem;
        color: var(--ink-2);
      }
      .grid-item .detail strong {
        color: var(--ink);
      }
      .gridview-root.has-active .grid-item { opacity: 0.6; }
      .gridview-root.has-active .grid-item.active { opacity: 1; }
      .gridview-root.has-active .grid-item.adjacent { opacity: 0.65; }
      /* Pill styles */
      .pill {
        display: inline-block;
        background: var(--glass-bg-hover);
        border: 1px solid var(--glass-border);
        border-radius: 999px;
        padding: 4px 12px;
        margin: 2px;
        font-size: 0.9rem;
        color: var(--ink);
      }
      .pills {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
      }
      /* Common */
      a { color: var(--accent); text-decoration: none; }
      a:hover { text-decoration: underline; }
      #cursor { position: fixed; inset: 0; pointer-events: none; mix-blend-mode: difference; filter: url(#goo); z-index: var(--z-cursor); will-change: transform; }
      .cursor-circle {
        position: absolute;
        width: var(--cursor-size); height: var(--cursor-size);
        border-radius: 50%; background: #fff;
        transform: translate(-50%, -50%);
      }
      .listview-root.has-active .background-image, .gridview-root.has-active .background-image { opacity: 0.15; }
      /* Theme toggle */
      .theme-toggle {
        position: fixed;
        top: 1rem;
        right: 1rem;
        z-index: var(--z-ui);
        background: transparent;
        border: 1px solid transparent;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.2s ease;
        backdrop-filter: none;
        box-shadow: none;
      }
      .theme-toggle:hover {
        background: var(--glass-bg-hover);
        border-color: var(--glass-border);
      }
      .theme-toggle svg {
        width: 20px;
        height: 20px;
        fill: var(--ink-2);
      }
      /* Logo */
      .logo {
        position: fixed;
        top: var(--corner-top);
        left: var(--corner-pad);
        z-index: var(--z-ui);
        cursor: pointer;
      }
      /* Fab */
      .fab-wrap {
        position: fixed;
        right: var(--corner-pad);
        bottom: var(--fab-bottom);
        z-index: var(--z-ui);
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      .fab {
        position: relative;
        width: var(--fab-size);
        height: var(--fab-size);
        border-radius: 999px;
        background: rgba(255,255,255,0.12);
        border: 1px solid rgba(255,255,255,0.25);
        backdrop-filter: blur(6px);
        color: var(--ink);
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        box-shadow: none;
        transition: all 0.2s ease;
        pointer-events: auto;
      }
      
      .fab:hover {
        background: var(--glass-bg-hover);
        border-color: var(--glass-border);
        transform: scale(1.02);
      }
      .fab:active {
        transform: scale(0.98);
      }
      .fab svg {
        width: 58%;
        height: auto;
        display: block;
      }
      /* Overlay */
      .overlay {
        position: fixed;
        inset: 0;
        z-index: var(--z-overlay);
        display: none;
        pointer-events: none;
        background: rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(4px) saturate(0%);
        -webkit-backdrop-filter: blur(4px) saturate(0%);
        align-items: center;
        justify-content: center;
        padding: clamp(16px, 3vw, 32px);
        transition: background 0.3s ease;
      }
      .overlay.open {
        display: flex;
        pointer-events: auto;
      }
      [data-theme="light"] .overlay, [data-theme="rose"] .overlay {
        background: rgba(255, 255, 255, 0.3);
      }
      .sheet {
        width: min(99vw, 1024px);
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        border-radius: 4px;
        padding: clamp(16px, 3vw, 32px);
        box-shadow: 0 24px 48px rgba(0, 0, 0, 0.15);
        max-height: min(92vh, 92dvh);
        position: relative;
        overflow-y: auto;
        backdrop-filter: blur(12px) saturate(110%);
        -webkit-backdrop-filter: blur(12px) saturate(110%);
        transform: translateY(100%);
        opacity: 0;
        will-change: transform, opacity;
      }
      
      /* --- OVERLAY & SHEET NUANCES --- */
      
      /* ROSE: Soft, ethereal, pink-tinted glass */
      [data-theme="rose"] .overlay {
        background: rgba(255, 255, 255, 0.2); /* Lighter overlay */
        backdrop-filter: blur(8px); /* Stronger blur */
      }
      [data-theme="rose"] .sheet {
        background: rgba(255, 255, 255, 0.65); /* More opaque glass */
        border: 1px solid rgba(255, 255, 255, 0.4);
        box-shadow: 0 8px 32px rgba(255, 141, 161, 0.3); /* Pink tinted shadow */
        backdrop-filter: blur(16px) saturate(140%);
      }
      
      /* BAUHAUS: Brutalist, sharp, high contrast, no blur */
      [data-theme="bauhaus"] .overlay {
        background: rgba(255, 255, 255, 0.85); /* High opacity white */
        backdrop-filter: none; /* No blur */
        /* Optional: Dot pattern for overlay? */
        background-image: radial-gradient(var(--ink-3) 1px, transparent 1px);
        background-size: 20px 20px;
      }
      [data-theme="bauhaus"] .sheet {
        background: #ffffff !important;
        border: 3px solid var(--ink) !important;
        border-radius: 0 !important;
        box-shadow: 12px 12px 0px var(--ink) !important; /* Hard shadow */
        backdrop-filter: none !important;
      }
      [data-theme="bauhaus"] .close-button {
        border-radius: 0 !important;
        border: 2px solid var(--ink) !important;
        background: #fff !important;
      }
      [data-theme="bauhaus"] .close-button:hover {
        background: var(--ink) !important;
        color: #fff !important;
      }
      
      /* TYPOGRAPHIC: Paper-like, heavy borders, clean */
      [data-theme="typographic"] .overlay {
        background: rgba(245, 245, 245, 0.95); /* Almost solid paper */
        backdrop-filter: none;
      }
      [data-theme="typographic"] .sheet {
        background: #ffffff !important;
        border: 6px solid var(--ink) !important;
        border-radius: 0 !important;
        box-shadow: none !important;
        padding: 4rem !important; /* More breathing room */
        max-width: 900px; /* Readability width */
      }
      [data-theme="typographic"] .close-button {
        border: none !important;
        background: transparent !important;
        transform: scale(1.5);
      }
      
      .close-button {
        position: absolute;
        top: clamp(16px, 3vw, 24px);
        right: clamp(12px, 2.4vw, 28px);
        appearance: none;
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        border-radius: 4px;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.2s ease;
        color: var(--ink-2);
        flex-shrink: 0;
        z-index: 101;
      }
      .close-button:hover {
        background: var(--glass-bg-hover);
        color: var(--ink);
        transform: scale(1.05);
      }
      .close-button:active {
        transform: scale(0.95);
      }
      .container {
        flex: 1;
        overflow-y: auto;
        overflow-x: hidden;
        display: flex;
        flex-direction: column;
        gap: 1rem;
        padding: clamp(20px, 2.4vw, 32px);
        align-items: start;
        align-content: start;
        position: relative;
      }
      .container::before, .container::after {
        content: '';
        position: sticky;
        left: 0;
        right: 0;
        height: 40px;
        z-index: 99;
        pointer-events: none;
      }
      .container::before {
        top: 0;
        background: linear-gradient(to bottom, var(--glass-bg) 0%, transparent 100%);
        backdrop-filter: blur(4px);
        -webkit-backdrop-filter: blur(4px);
      }
      .container::after {
        bottom: 0;
        background: linear-gradient(to top, var(--glass-bg) 0%, transparent 100%);
        backdrop-filter: blur(4px);
        -webkit-backdrop-filter: blur(4px);
      }
      .container h1 {
        margin: 0 0 1rem 0;
        font-size: clamp(1.25rem, 4vw, 1.75rem);
        font-weight: 600;
        color: var(--ink);
        letter-spacing: -0.02em;
      }
      .container p {
        margin: 0 0 1rem 0;
        line-height: 1.6;
        color: var(--ink-2);
      }
      .container a {
        color: var(--accent);
        text-decoration: none;
      }
      .container a:hover {
        text-decoration: underline;
      }
      .preview-img {
        max-width: 100%;
        height: auto;
        border-radius: 4px;
        margin-bottom: 1rem;
      }
      /* Context menu */
      #contextMenu {
        position: fixed;
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        border-radius: 4px;
        padding: 8px 0;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        z-index: 300;
        display: none;
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
      }
      .menu-item {
        padding: 8px 16px;
        cursor: pointer;
        color: var(--ink);
        transition: background 0.2s ease;
        white-space: nowrap;
      }
      .menu-item:hover {
        background: var(--glass-bg-hover);
      }
      /* Print styles */
      @media print {
        body {
          overflow: visible !important;
          height: auto !important;
          background: white !important;
          color: black !important;
        }
        .listview-root, .portfolio-container, .project-list, .gridview-root, .grid-container {
          background: none !important;
          backdrop-filter: none !important;
        }
        .project-item, .grid-item {
          border-bottom: 1px solid #ddd !important;
          page-break-inside: avoid;
        }
        .project-data.artist, .grid-item h4 {
          color: black !important;
        }
        .project-data.album, .grid-item p {
          color: #333 !important;
        }
        .theme-toggle, .fab-wrap, .logo, .edge-blur, .vignette, #cursor, .background-image, .view-toggle, .font-toggle, #contextMenu, .footer-link, .overlay {
          display: none !important;
        }
        #listView {
          display: block !important;
          position: static !important;
          overflow: visible !important;
          height: auto !important;
          inset: auto !important;
        }
        #gridView {
          display: none !important;
        }
        details summary::after { content: '-'; }
        details .accordion-content { display: block !important; }
        .curved {
          transform: none !important;
        }
        .portfolio-container {
          padding: 2rem !important;
          max-width: none !important;
          min-height: auto !important;
        }
      }
      /* Accordion */
      details {
        width: 100%;
        background: transparent;
        border: 1px solid transparent;
        border-radius: 4px;
        margin-bottom: 0.25rem;
        transition: all 0.3s ease;
        box-shadow: none;
      }
      
      details[open], details:hover {
        background: var(--glass-bg-hover);
        border-color: var(--glass-border);
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      }
      [data-theme="dark"] details[open]:hover {
        background: var(--glass-bg-bright);
        border-color: rgba(255,255,255,0.2);
      }
      summary {
        padding: 0.5rem 0.75rem;
        cursor: pointer;
        font-weight: 600;
        font-size: 0.95rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }
      summary::after {
        content: '+';
        font-size: 1.2rem;
        opacity: 0.7;
      }
      details[open] summary::after {
        content: '-';
      }
      .accordion-content {
        padding: 0 0.75rem 0.75rem;
        color: var(--ink-2);
        line-height: 1.5;
        font-size: 0.95rem;
      }
      .accordion-content ul {
        margin: 0;
        padding: 0 0 0 1.2rem;
        list-style-type: disc;
      }
      .accordion-content li {
        margin-bottom: 0.5rem;
        color: var(--ink-2);
        padding-left: 4px;
      }
      .accordion-content li::marker {
        color: var(--ink-3);
      }
      .accordion-content li:last-child {
        margin-bottom: 0;
      }
      .accordion-content img {
        max-width: 100%;
        height: auto;
        display: block;
        margin: 1rem auto;
      }
      .project-item.experience .project-data.album {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }
      .grid-item details {
        margin-top: 0.5rem;
      }
      /* Scrollbar styles */
      ::-webkit-scrollbar {
        width: 4px;
      }
      ::-webkit-scrollbar-track {
        background: transparent;
      }
      ::-webkit-scrollbar-thumb {
        background: var(--ink-3);
        border-radius: 2px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: var(--ink-2);
      }
      .listview-root::-webkit-scrollbar, .gridview-root::-webkit-scrollbar {
        position: absolute;
        right: 0;
      }
      [data-theme="light"] .project-data.album, [data-theme="rose"] .project-data.album {
        opacity: 1;
      }
      [data-theme="light"] .project-item.hero .project-data.album, [data-theme="rose"] .project-item.hero .project-data.album {
        opacity: 1;
      }
      [data-theme="light"] .project-item.section .project-data.artist, [data-theme="rose"] .project-item.section .project-data.artist {
        opacity: 1;
      }
      [data-theme="light"] .project-item.summary .project-data.album, [data-theme="rose"] .project-item.summary .project-data.album {
        opacity: 1;
      }
      [data-theme="light"] .project-item.experience .project-data.role, [data-theme="rose"] .project-item.experience .project-data.role {
        opacity: 1;
      }
      [data-theme="light"] .project-item.experience .project-data.year, [data-theme="rose"] .project-item.experience .project-data.year {
        opacity: 1;
      }
      [data-theme="light"] .quote .project-data.album, [data-theme="rose"] .quote .project-data.album {
        opacity: 1;
      }
      [data-theme="light"] .grid-section-title, [data-theme="rose"] .grid-section-title {
        opacity: 1;
      }
      [data-theme="light"] .grid-item .role, [data-theme="rose"] .grid-item .role {
        opacity: 1;
      }
      [data-theme="light"] .grid-item .duration, [data-theme="rose"] .grid-item .duration {
        opacity: 1;
      }
      [data-theme="light"] .grid-item p, [data-theme="rose"] .grid-item p {
        opacity: 1;
      }
      [data-theme="light"] .edge-blur {
        display: none;
      }
      .summary {
        margin-bottom: 1rem;
        line-height: 1.6;
        opacity: 0.95;
      }
      .footer-link {
        position: fixed;
        bottom: var(--fab-bottom);
        left: var(--corner-pad);
        z-index: var(--z-ui);
        cursor: pointer;
        color: var(--ink-2);
        font-size: 0.6rem;
        transition: color 0.2s ease;
      }
      .footer-link:hover {
        color: var(--ink);
      }
      [data-theme="rose"] .footer-link {
        color: var(--ink);
        font-weight: bold;
      }
      
      .full-width-section {
        width: 100%;
        padding: 1rem 0;
        margin-bottom: 1.5rem;
        border-bottom: 1px solid var(--subtle-outline);
      }
      
      /* Responsive adjustments */
      @media (max-width: 768px) {
        .sheet {
          width: 100vw;
          height: 100vh;
          border-radius: 0;
          padding: 1rem;
        }
      
        .full-width-section {
          padding: 0.5rem 0;
        }
      }
      
  
      /* Side-specific overlays */
      .right-overlay {
        justify-content: flex-end;
      }
      .right-overlay .sheet {
        transform: translateX(100%);
        width: clamp(768px, 40vw, 500px);
        height: 100vh;
        border-radius: 0;
        max-height: none;
      }
      .left-overlay {
        justify-content: flex-start;
      }
      .left-overlay .sheet {
        transform: translateX(-100%);
        width: clamp(768px, 40vw, 500px);
        height: 100vh;
        border-radius: 0;
        max-height: none;
      }
      @media (max-width: 768px) {
        .right-overlay .sheet, .left-overlay .sheet {
          width: 80vw;
        }
      }
      
      /* NEW: Toggle Navigation Styles */
      #top-toggle-nav {
        position: fixed;
        top: 10px;
        left: 50%;
        transform: translateX(-50%);
        z-index: var(--z-ui);
        display: flex;
        gap: 8px;
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        border-radius: 999px;
        padding: 4px;
      }
      #top-toggle-nav button {
        appearance: none;
        border: none;
        background: transparent;
        color: var(--ink-2);
        padding: 8px 16px;
        cursor: pointer;
        border-radius: 999px;
        font-size: 0.95rem;
        font-weight: 600;
        transition: all 0.2s ease;
      }
      #top-toggle-nav button:hover {
        color: var(--ink);
        background: var(--glass-bg-hover);
      }
      #top-toggle-nav button.active {
        color: var(--accent);
        background: color-mix(in oklch, var(--accent) 20%, transparent);
      }
      
      /* Accessible helper class (used to keep labels in DOM for screen-readers) */
      .visually-hidden {
        position: absolute !important;
        width: 1px !important;
        height: 1px !important;
        padding: 0 !important;
        margin: -1px !important;
        overflow: hidden !important;
        clip: rect(0 0 0 0) !important;
        white-space: nowrap !important;
        border: 0 !important;
      }
      
      /* Mobile-optimized variant: icon-only compact buttons (use data-emoji or SVG) */
      @media (max-width: 768px) {
        #top-toggle-nav {
          padding: 4px;
          gap: 6px;
          left: 50%;
          transform: translateX(-50%);
          top: 8px;
        }
      
        #top-toggle-nav button {
          width: 40px;
          height: 40px;
          padding: 0;
          font-size: 0; /* hide textual label visually (kept in DOM for a11y) */
          line-height: 1;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          border-radius: 999px;
          background: transparent;
        }
      
        /* show fallback emoji icon via data attribute; you can swap to data-uri svgs later */
        #top-toggle-nav button::before {
          content: attr(data-emoji);
          font-size: 18px;
          display: block;
          pointer-events: none;
          color: var(--ink-2);
        }
      
        /* keep active state visible */
        #top-toggle-nav button.active::before {
          color: var(--accent);
        }
      
        /* keep textual label accessible but visually hidden */
        #top-toggle-nav button .label,
        #top-toggle-nav button .sr-only {
          position: absolute;
          width: 1px;
          height: 1px;
          overflow: hidden;
          clip: rect(0 0 0 0);
          white-space: nowrap;
        }
      
        /* subtle tap target bg */
        #top-toggle-nav button:hover {
          background: var(--glass-bg-hover);
        }
      }
      
      /* NEW: View Containers (Refactored from Overlays) */
      .view-container {
        position: fixed;
        inset: 0;
        overflow-y: auto;
        background: var(--bg-color);
        z-index: 10;
        display: none;
        -webkit-overflow-scrolling: touch;
      }
      .view-container.active {
        display: block;
      }
      .view-content {
        padding: clamp(60px, 8vh, 80px) 5% var(--fab-bottom) 5%;
  
        margin: 0 auto;
      }
      
      /* Case Study Styles */
      .case-study-section {
        margin-bottom: 2rem;
      }
      .case-study-section h2 {
        font-size: 1.8rem;
        margin-bottom: 1rem;
        color: var(--accent);
      }
      .case-study-section p {
        line-height: 1.6;
        color: var(--ink-2);
      }
      .case-study-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 1.5rem;
        margin: 2rem 0;
      }
      .case-study-grid img {
        width: 100%;
        height: auto;
        border-radius: 4px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        transition: transform 0.2s ease;
      }
      .case-study-grid img:hover {
        transform: scale(1.02);
      }
      .case-study-process {
        margin: 2rem 0;
      }
      .case-study-process .detail {
        margin-bottom: 1rem;
      }
      .case-study-process .label {
        font-weight: 600;
        color: var(--accent);
      }
      .case-study-insight {
        margin: 2rem 0;
        padding: 1rem;
        background: var(--glass-bg-hover);
        border-radius: 4px;
      }
      .case-study-insight .aside {
        font-style: italic;
        opacity: 0.85;
      }
      .case-study-stack {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
      }
      .case-study-stack figure {
        flex: 1 1 300px;
      }
      .case-study-stack img {
        width: 100%;
        border-radius: 4px;
      }
      
      /* -------------------------
         Hide View Toggle during Case Study view
         ------------------------- */
      .view-container.case-study.active .view-toggle,
      .view-container.case-study.active .view-toggle * {
        display: none !important;
      }
      
      /* supports a dedicated case study root container */
      #caseStudyView.active .view-toggle,
      #caseStudyView.active .view-toggle * {
        display: none !important;
      }
      
      /* supports toggling a body-level flag */
      body.case-study .view-toggle,
      body.case-study .view-toggle * {
        display: none !important;
      }
      
      /* End of stylesheet */
      
    /* Enhanced Mobile Optimizations */
    @media (max-width: 768px) {
        :root {
            --base-font-size: 14px; /* Adjusted to minimum compliant size */
        }
        
        body {
            touch-action: manipulation; /* Improve touch response */
            -webkit-tap-highlight-color: transparent; /* Remove tap highlight */
            font-size: var(--base-font-size);
            line-height: 1.3; /* Tightened for density */
        }
        
        /* Overlays on mobile */
        .overlay {
            padding: 0;
            justify-content: flex-end; /* Bottom sheet style */
        }
        
        .sheet {
            border-radius: 12px 12px 0 0;
            transform: translateY(100%);
        }
        
        /* Compact UI */
        .fab {
            --fab-size: 60px;
        }
        
        .fab-bottom {
            --fab-bottom: calc(env(safe-area-inset-bottom) + 16px);
        }
        
        .corner-pad {
            --corner-pad: 12px;
        }
        
        .view-toggle {
            flex-direction: row;
            gap: 4px;
            padding: 4px;
            bottom: 20px;
            top: auto;
            transform: none;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .toggle-btn {
            padding: 6px;
        }
        
        .toggle-btn svg {
            width: 18px;
            height: 18px;
        }
        
        /* Bento box adjustments */
        .bento-container {
            grid-template-columns: 1fr;
        }
        
        .span-2, .span-3, .span-4 {
            grid-column: 1 / -1;
        }
        
        /* Compact typography */
        h1 { font-size: clamp(2rem, 8vw, 3rem); }
        h2 { font-size: clamp(1.5rem, 6vw, 2rem); }
        p { font-size: 1rem; }
      }
      
      /* Bento Box Styles */
      .bento-container {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 1rem;
        max-width: 1200px;
        margin: 0 auto;
      }
      
      .bento-box {
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        border-radius: 4px;
        padding: 1.5rem;
        box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        transition: all 0.2s ease;
      }
      
      .bento-box:hover {
        background: var(--glass-bg-hover);
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      }
      
      .span-2 { grid-column: span 2; }
      .span-3 { grid-column: span 3; }
      .span-4 { grid-column: span 4; }
      
      .image-grid .case-study-grid {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      }
      
      .stack-grid .case-study-stack {
        flex-wrap: wrap;
      }
      
      /* Theme-specific Bento Overrides */
      [data-theme="rose"] .bento-box {
        background: var(--glass-bg);
        border-color: var(--glass-border);
        box-shadow: 0 4px 16px rgba(255,141,161,0.2);
      }
      
      [data-theme="bauhaus"] .bento-box {
        background: #fff;
        border: 2px solid var(--ink);
        border-radius: 0;
        box-shadow: 4px 4px 0 var(--ink);
        padding: 1rem;
      }
      
      [data-theme="typographic"] .bento-box {
        background: #fff;
        border: 4px solid var(--ink);
        border-radius: 0;
        box-shadow: none;
        padding: 2rem;
      }
      
      [data-theme="typographic"] .bento-box h1,
      [data-theme="typographic"] .bento-box h2 {
        font-size: clamp(2rem, 6vw, 4rem);
        line-height: 0.9;
        letter-spacing: -0.03em;
        font-weight: 900;
        text-transform: uppercase;
      }
      
      [data-theme="typographic"] .bento-box p {
        font-size: 1.15rem;
        line-height: 1.5;
      }
      
      [data-theme="typographic"] .bento-box:hover {
        transform: translate(-4px, -4px);
        box-shadow: 8px 8px 0 var(--ink);
      }
      
      @media (max-width: 768px) {
        .bento-container {
          grid-template-columns: 1fr;
          gap: 0.75rem;
        }
        
        .bento-box {
          padding: 1rem;
        }
      }
    </style>
</head>
<body>
    <!-- UI Elements -->
    <div class="edge-blur"></div>
    <div class="vignette"></div>
    <div id="cursor"></div>
    
    <div class="logo">
        <img src="https://raw.githubusercontent.com/ZACKGORT/intoview/main/intoview-logo-light.svg.svg" alt="IntoView Logo" id="logoToggle">
    </div>
    
    <div class="theme-toggle" id="themeToggle">
        <svg id="themeIcon" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none"></svg>
    </div>
    
    <div class="view-toggle">
        <button class="toggle-btn active" id="listBtn" aria-label="List View">
            <svg viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none">
                <line x1="3" y1="6" x2="21" y2="6"></line>
                <line x1="3" y1="12" x2="21" y2="12"></line>
                <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
        </button>
        <button class="toggle-btn" id="gridBtn" aria-label="Grid View">
            <svg viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none">
                <rect x="3" y="3" width="7" height="7"></rect>
                <rect x="14" y="3" width="7" height="7"></rect>
                <rect x="14" y="14" width="7" height="7"></rect>
                <rect x="3" y="14" width="7" height="7"></rect>
            </svg>
        </button>
    </div>
    
    <div class="fab-wrap">
        <button class="fab" id="fabButton" aria-label="Open Menu">
            <svg viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none">
                <line x1="4" y1="6" x2="20" y2="6"></line>
                <line x1="4" y1="12" x2="20" y2="12"></line>
                <line x1="4" y1="18" x2="20" y2="18"></line>
            </svg>
        </button>
    </div>
    
    <!-- Overlays -->
    <div class="overlay right-overlay" id="overlay">
        <div class="sheet">
            <button class="close-button" id="closeOverlay"></button>
            <div class="container">
                <h1>About IntoView</h1>
                <p>IntoView is an experimental CV format exploring interactive, themeable resume presentation.</p>
                <p>Built with HTML/CSS/JS, GSAP, and jsPDF.</p>
                <a href="https://github.com/ZACKGORT/intoview" target="_blank">View on GitHub</a>
            </div>
        </div>
    </div>
    
    <!-- Context Menu -->
    <div id="contextMenu">
        <div class="menu-item" id="expandAll">Expand All</div>
        <div class="menu-item" id="reset">Reset</div>
        <div class="menu-item" id="savePdf">Save as PDF</div>
        <div class="menu-item" id="copyLink">Copy Link</div>
    </div>
    
    <!-- Top Toggle Navigation -->
    <nav id="top-toggle-nav">
        <button data-view="resume" data-emoji="" class="active">Resume</button>
        <button data-view="case1" data-emoji="">Case 1</button>
        <button data-view="case2" data-emoji="">Case 2</button>
    </nav>
    
    <!-- Views -->
    <div class="view-container curved active" id="resume-view">
        <div class="view-content">
            <div class="listview-root" id="listView">
                <div class="portfolio-container" id="listViewContent"></div>
            </div>
            <div class="gridview-root" id="gridView" style="display: none;">
                <div class="grid-container" id="gridViewContent"></div>
            </div>
        </div>
    </div>
    
    <div class="view-container curved case-study" id="case1-view">
        <div class="view-content">
            <div id="case1Content"></div>
        </div>
    </div>
    
    <div class="view-container curved case-study" id="case2-view">
        <div class="view-content">
            <div id="case2Content"></div>
        </div>
    </div>
    
    <!-- Script -->
    <script>
const resumeContent = {
    hero: {
        artist: 'Zack Gort',
        album: 'Experience Design Leader'
    },
    contact: {
        artist: 'Contact',
        album: 'zack@reasonably.cc  zackgort.com  linkedin.com/in/zackgort'
    },
    summary: {
        artist: 'Summary',
        album: 'Senior Experience Designer with 12+ years driving digital innovation at agencies and consultancies. Proven track record in UX strategy, design systems, and cross-functional collaboration to deliver user-centered products that solve complex problems and drive business growth.'
    },
    experiences: [
        {
            type: 'experience',
            artist: 'PUBLICIS SAPIENT',
            role: 'Senior User Experience Designer',
            year: '01/2021  08/2024',
            summary: 'Led UX for enterprise fintech and e-commerce projects, including BNY Mellon\'s Wove platform and GNC\'s Shopify rebuild.',
            details: {
                title: 'Key Contributions',
                bullets: [
                    'Architected information flows for Pershing X\'s advisory platform, unifying disparate tools into a seamless experience.',
                    'Designed modular e-commerce components for GNC, contributing to $500M revenue recovery post-bankruptcy.',
                    'Collaborated on Salesforce implementations for banking clients, optimizing advisor workflows.'
                ]
            },
            pills: ['FinTech', 'E-commerce', 'Design Systems', 'Prototyping', 'User Research']
        },
        {
            type: 'experience',
            artist: 'ELVA DESIGN GROUP',
            role: 'Senior UX Designer',
            year: '07/2019  01/2021',
            summary: 'Delivered UX solutions for e-commerce and enterprise clients, focusing on Shopify and Salesforce integrations.',
            details: {
                title: 'Project Highlights',
                bullets: [
                    'Led UX for GNC\'s Shopify rebuild, introducing mobile-first navigation and taxonomy strategies.',
                    'Designed enterprise dashboards and workflows for financial services clients.'
                ]
            },
            pills: ['Shopify', 'Salesforce', 'E-commerce', 'Mobile Design']
        },
        {
            type: 'experience',
            artist: 'REASONABLY',
            role: 'Founder & Lead Designer',
            year: '03/2017  07/2019',
            summary: 'Bootstrapped design consultancy serving startups and enterprises in fintech and e-commerce.',
            details: {
                title: 'Achievements',
                bullets: [
                    'Delivered UX/UI for multiple fintech startups, including mobile apps and web platforms.',
                    'Established lean UX processes for rapid iteration and validation.'
                ]
            },
            pills: ['Startup', 'FinTech', 'Mobile Apps', 'Lean UX']
        },
        {
            type: 'experience',
            artist: 'LEVLANE ADVERTISING',
            role: 'Senior Interactive Designer',
            year: '07/2016  03/2017',
            summary: 'Led interactive design for agency clients in healthcare and education sectors.',
            details: {
                title: 'Notable Work',
                bullets: [
                    'Designed responsive websites and digital campaigns with focus on accessibility.',
                    'Collaborated with development teams on CMS implementations.'
                ]
            },
            pills: ['Responsive Design', 'Accessibility', 'CMS', 'Digital Campaigns']
        },
        {
            type: 'experience',
            artist: 'ONE SIXTY OVER NINETY',
            role: 'Interaction Designer',
            year: '09/2014  07/2016',
            summary: 'At the preeminent .EDU agency, I delivered full-service interactive work with a focus on IA and ADA-compliant systems.',
            details: {
                title: 'Inclusive Design & Complex IA',
                bullets: [
                    'Developed deep IA and accessibility expertise, translating brand into usable digital experiences.',
                    'As one of two interactive designers, I owned full-spectrum builds for higher-education clients.',
                    'Led client-facing creative work across .EDU accounts and projects for Comcast and the Philadelphia Eagles.'
                ]
            },
            pills: ['Information Architecture', 'Prototypes', 'UI Design Systems', 'Copywriting', 'Brand & Identity']
        }
    ],
    specializations: [
        {
            title: 'Design Leadership',
            description: 'Master facilitator: leading client workshops, inspiring teams, and presenting design decisions with confidence.'
        },
        {
            title: 'Strategic UX & Service Design',
            description: 'Skilled at crafting experience maps, service blueprints, and interaction models that solve user and business problems.'
        },
        {
            title: 'Digital Design & Prototyping',
            description: 'Advanced in Figma and Adobe Creative Suite; experienced in rapid prototyping and comfortable with HTML/CSS/JS for interactive proofs of concept.'
        },
        {
            title: 'Design Systems & Visual Standards',
            description: 'Experienced in creating and evolving design systems and style guides to maintain product coherence as teams scale.'
        },
        {
            title: 'Collaboration',
            description: 'Partner closely with product owners, front-end developers, and multi-disciplinary teams to ship high-impact outcomes.'
        },
        {
            title: 'Communication & Storytelling',
            description: 'Clear writer and presenter who tailors the story to the audience and moves decisions forward.'
        },
        {
            title: 'Project Management',
            description: 'Delivers projects on time and on budget with attention to detail and strong organization.'
        }
    ],
    competencies: [
        {
            category: 'Design & Strategy',
            pills: ['User Experience Design', 'User Interface Design', 'Interaction Design', 'Information Architecture', 'Design Systems', 'Prototyping', 'Wireframing', 'User Research', 'Usability Testing', 'Content Strategy', 'Service Design', 'Design Thinking']
        },
        {
            category: 'Collaboration & Process',
            pills: ['Agile/Scrum', 'Cross-functional Team Leadership', 'Stakeholder Management', 'Workshop Facilitation', 'Client Relations', 'Design Hand-offs', 'Strategic Planning']
        },
        {
            category: 'Tools & Platforms',
            pills: ['Figma', 'Sketch', 'Adobe Creative Suite', 'Contentful', 'Jira', 'Salesforce', 'Shopify', 'HTML/CSS', 'JavaScript', 'Miro', 'InVision', 'Notion']
        }
    ],
    references: [
        {
            name: 'Christopher Bayle',
            quote: 'Zack connects to emotion and imagination in a way that surfaces thoughtful, human work. His empathy and perspective consistently helped break creative logjams  a reliable and inspiring collaborator.',
            title: 'ACD UX, Publicis Sapient'
        },
        {
            name: 'Andrs Moros, MPS',
            quote: 'Zack is talented, hardworking, and highly communicative. He elevates team collaboration and consistently goes the extra mile. I recommend him without reservation.',
            title: 'Sr. UX Designer, Publicis Sapient'
        }
    ],
    education: [
        {
            school: 'Pratt Institute of Art',
            description: 'BFA, 3D Animation & Motion Graphics (Incomplete Degree). Foundation in digital media arts, technical prototyping, and the craft of meaningful storytelling.',
            duration: '2002  2005'
        }
    ]
};

// Case Study 1 content
const case1Content = {
    title: 'BNY Mellon  Pershing X',
    sections: [
        {
            type: 'overview',
            h2: 'Project Overview',
            p: 'Build Wove, an industry-first platform that connects a clients full financial picture with the tools advisors actually use, so work moves across modules without reentry.'
        },
        {
            type: 'challenges',
            h2: 'Key Challenges & Solutions',
            p1: 'Advisors worked across many disconnected tools; context was lost and data had to be re-entered. We sought to flatten the experience through a uniform and interconnected dashboard',
            p2: 'Information architecture, task and flow mapping, cross-module navigation, and component patterns that keep data alive across steps (no reentry).'
        },
        {
            type: 'process',
            h2: 'Process',
            details: [
                {label: 'Client:', value: ' BNY Melon  Pershing X'},
                {label: 'Agency:', value: ' Publicis Sapient'},
                {label: 'Role:', value: ' Senior User Experience Designer, Product Design Lead (IA/flows) for Woves advisor experience. Partnered with PM, Tech Lead, Data, Compliance, and designers to ship unified, cross-workflow journeys.'}
            ]
        },
        {
            type: 'visuals',
            h2: 'Visual Deliverables',
            images: [
                {src: "https://i.ibb.co/wZY2bhKF/bny4.png", alt: "BNY Mellon visual 1"},
                {src: "https://i.ibb.co/xS49C07B/bny3.png", alt: "BNY Mellon visual 2"},
                {src: "https://i.ibb.co/vvMZmq94/bny2.png", alt: "BNY Mellon visual 3"},
                {src: "https://i.ibb.co/XkM2hn8n/bny1.png", alt: "BNY Mellon visual 4"},
                {src: "https://i.ibb.co/FJNG1jC/14.jpg", alt: "BNY Mellon visual 5"},
                {src: "https://i.ibb.co/fxjgcYD/18.png", alt: "BNY Mellon visual 6"},
                {src: "https://i.ibb.co/gtQLYJQ/17.jpg", alt: "BNY Mellon visual 7"},
                {src: "https://i.ibb.co/Fgxcqj0/16.jpg", alt: "BNY Mellon visual 8"},
                {src: "https://i.ibb.co/dcXH5fn/13.jpg", alt: "BNY Mellon visual 9"}
            ]
        },
        {
            type: 'insights',
            h2: 'Insights',
            p: 'Deep Dive: No Artificial Intelligence Here',
            aside: 'This is important. This was only 2023 into 2024, before the buzzword craze and subsequent hype. But, while the world gets distracted by the wow-factor of AI developments, AI had ZERO part in any of this project. It was HUMAN blood, sweat, and copious amounts of caffeine that did the due diligence of analyzing every individual legacy application, mapping that **** out, socializing it with the team, and ultimately shipping a viable modernized financial product ecosystem to one of the largest banking entities in the world.'
        },
        {
            type: 'outcomes',
            h2: 'Outcomes',
            p: 'Wove launched with BNY Melon power, scale, and security, helping advisors work faster and serve more clients.'
        },
        {
            type: 'stack',
            h2: 'Stack',
            images: [
                {src: "https://i.ibb.co/XkM2hn8n/bny1.png", alt: "BNY 1"},
                {src: "https://i.ibb.co/vvMZmq94/bny2.png", alt: "BNY 2"},
                {src: "https://i.ibb.co/xS49C07B/bny3.png", alt: "BNY 3"},
                {src: "https://i.ibb.co/wZY2bhKF/bny4.png", alt: "BNY 4"},
                {src: "https://i.ibb.co/HGv7ymj/4.jpg", alt: "Account Opening"}
            ]
        }
    ]
};

// Case Study 2 content
const case2Content = {
    title: 'General Nutrition Centers (GNC)',
    sections: [
        {
            type: 'overview',
            h2: 'Project Overview',
            p: '{We} dove deep into GNC\'s e-commerce ecosystem. From market research, to [client-supplied] user data, to wireframe feature prototyping; we built a modular component-based design system optimized for continued optimization.'
        },
        {
            type: 'challenges',
            h2: 'Key Challenges & Solutions',
            p1: 'As part of a total overhaul and overcoming a recent bankruptcy, GNC asked us to shake things up; providing them with a modern and modular e-commerce solution through a ground-up build on the Shopify platform.',
            p2: 'Lead UX {IA/UI Prototypes/Design Systems}. Paired with PM, Dev Lead, Design Team and Client-Side Stakeholders. 12-week engagement meant tight cadence, fast-on-our-feet design + strategy, and weekly exec reviews.',
            p3: '{We} introduced a modern mobile-first navigation schema and retail taxonomy strategy that separated GNC not just from its competition, but all in the e-retail space.'
        },
        {
            type: 'process',
            h2: 'Process',
            details: [
                {label: 'Client:', value: ' General Nutrition Centers (GNC)'},
                {label: 'Agency:', value: ' Elva Design Group'},
                {label: 'Role:', value: ' Senior User Experience Designer'}
            ]
        },
        {
            type: 'visuals',
            h2: 'Visual Deliverables',
            images: [
                {src: "https://i.ibb.co/ynjWYqv8/2.webp", alt: "GNC visual 1"},
                {src: "https://i.ibb.co/spHgPH6N/1.webp", alt: "GNC visual 2"},
                {src: "https://i.ibb.co/cXg5Phdc/3.webp", alt: "GNC visual 3"},
                {src: "https://i.ibb.co/99h2bQMh/6.webp", alt: "GNC visual 4"},
                {src: "https://i.ibb.co/gZ58PKyk/4.webp", alt: "GNC visual 5"},
                {src: "https://i.ibb.co/Y7pGqJ69/5.webp", alt: "GNC visual 6"},
                {src: "https://i.ibb.co/yB4RwkTf/7.webp", alt: "GNC visual 7"},
                {src: "https://i.ibb.co/cSQCgNQY/work1.webp", alt: "GNC visual 8"},
                {src: "https://i.ibb.co/pBMMxY1Z/11.webp", alt: "GNC visual 9"},
                {src: "https://i.ibb.co/7N2rDqrN/8.webp", alt: "GNC visual 10"},
                {src: "https://i.ibb.co/vx76zjgf/10.webp", alt: "GNC visual 11"},
                {src: "https://i.ibb.co/rft2bf0T/9.webp", alt: "GNC visual 12"}
            ]
        },
        {
            type: 'insights',
            h2: 'Insights',
            p: 'Outcome: The result helped GNC reclaim ~$500M in annual revenue.',
            aside: 'if the bar ain\'t bending, youre just pretending.'
        },
        {
            type: 'stack',
            h2: 'Stack',
            images: [
                {src: "https://i.ibb.co/ynjWYqv8/2.webp", alt: "notes"},
                {src: "https://i.ibb.co/spHgPH6N/1.webp", alt: "research"},
                {src: "https://i.ibb.co/cXg5Phdc/3.webp", alt: "mobile commerce"},
                {src: "https://i.ibb.co/99h2bQMh/6.webp", alt: "product detail page"},
                {src: "https://i.ibb.co/gZ58PKyk/4.webp", alt: "mobile product detail"},
                {src: "https://i.ibb.co/Y7pGqJ69/5.webp", alt: "consumer engagement"},
                {src: "https://i.ibb.co/yB4RwkTf/7.webp", alt: "rewards program"},
                {src: "https://i.ibb.co/cSQCgNQY/work1.webp", alt: "handheld"},
                {src: "https://i.ibb.co/pBMMxY1Z/11.webp", alt: "mobile overview"},
                {src: "https://i.ibb.co/7N2rDqrN/8.webp", alt: "mobile closeup"},
                {src: "https://i.ibb.co/vx76zjgf/10.webp", alt: "desktop navigation"},
                {src: "https://i.ibb.co/rft2bf0T/9.webp", alt: "desktop homepage"}
            ]
        }
    ]
};

// Function to generate list view HTML for resume
function generateListView(content) {
    let html = '<ul class="project-list">';
    
    // Hero
    html += `<li class="project-item hero">
        <div class="project-data artist">${content.hero.artist}</div>
        <div class="project-data album">${content.hero.album}</div>
    </li>`;
    
    // Contact
    html += `<li class="project-item" style="grid-template-columns: 200px 1fr;">
        <div class="project-data artist">${content.contact.artist}</div>
        <div class="project-data album">${content.contact.album}</div>
    </li>`;
    
    // Summary
    html += `<li class="project-item summary">
        <div class="project-data artist">${content.summary.artist}</div>
        <div class="project-data album">${content.summary.album}</div>
    </li>`;
    
    // Experiences
    html += '<li class="project-item section"><div class="project-data artist">Experience</div></li>';
    content.experiences.forEach(exp => {
        html += `<li class="project-item experience">
            <div class="project-data artist">${exp.artist}</div>
            <div class="project-data role">${exp.role}</div>
            <div class="project-data year">${exp.year}</div>
            <div class="project-data album">
                <p class="summary">${exp.summary}</p>
                <details>
                    <summary>${exp.details.title}</summary>
                    <div class="accordion-content">
                        <ul>${exp.details.bullets.map(b => `<li>${b}</li>`).join('')}</ul>
                    </div>
                </details>
                <div class="pills">${exp.pills.map(p => `<span class="pill">${p}</span>`).join('')}</div>
            </div>
        </li>`;
    });
    
    // Specializations
    html += '<li class="project-item section"><div class="project-data artist">Specializations</div></li>';
    content.specializations.forEach(spec => {
        html += `<li class="project-item quote">
            <div class="project-data artist">${spec.title}</div>
            <div class="project-data album">${spec.description}</div>
        </li>`;
    });
    
    // Core Competencies
    html += '<li class="project-item section"><div class="project-data artist">Core Competencies</div></li>';
    content.competencies.forEach(comp => {
        html += `<li class="project-item skill">
            <div class="project-data artist">${comp.category}</div>
            <div class="project-data album">
                <div class="pills">${comp.pills.map(p => `<span class="pill">${p}</span>`).join('')}</div>
            </div>
        </li>`;
    });
    
    // References
    html += '<li class="project-item section"><div class="project-data artist">References & Testimonials</div></li>';
    content.references.forEach(ref => {
        html += `<li class="project-item quote">
            <div class="project-data artist">${ref.name}</div>
            <div class="project-data album">"${ref.quote}"</div>
        </li>`;
    });
    
    // Education
    html += '<li class="project-item section"><div class="project-data artist">Education</div></li>';
    content.education.forEach(edu => {
        html += `<li class="project-item quote">
            <div class="project-data artist">${edu.school}</div>
            <div class="project-data album">${edu.description} (${edu.duration})</div>
        </li>`;
    });
    
    html += '</ul>';
    return html;
}

// Function to generate grid view HTML for resume
function generateGridView(content) {
    let html = '';
    
    // Hero and Summary as full-width
    html += `<div class="full-width-section">
        <h1 class="grid-section-title">${content.hero.artist}</h1>
        <p class="summary">${content.hero.album}</p>
        <p class="summary">${content.contact.album}</p>
        <p class="summary">${content.summary.album}</p>
    </div>`;
    
    // Experiences
    html += '<div class="grid-section"><div class="grid-section-title">Experience</div><div class="grid-items">';
    content.experiences.forEach(exp => {
        html += `<div class="grid-item">
            <h4>${exp.artist}</h4>
            <div class="job-info">
                <span class="role">${exp.role}</span>
                <span class="duration">${exp.year}</span>
            </div>
            <p class="summary">${exp.summary}</p>
            <details>
                <summary>${exp.details.title}</summary>
                <div class="accordion-content">
                    <ul>${exp.details.bullets.map(b => `<li>${b}</li>`).join('')}</ul>
                </div>
            </details>
            <div class="pills">${exp.pills.map(p => `<span class="pill">${p}</span>`).join('')}</div>
        </div>`;
    });
    html += '</div></div>';
    
    // Specializations
    html += '<div class="grid-section"><div class="grid-section-title">Specializations</div><div class="grid-items">';
    content.specializations.forEach(spec => {
        html += `<div class="grid-item">
            <h4>${spec.title}</h4>
            <p>${spec.description}</p>
        </div>`;
    });
    html += '</div></div>';
    
    // Core Competencies
    html += '<div class="grid-section"><div class="grid-section-title">Core Competencies</div><div class="grid-items">';
    content.competencies.forEach(comp => {
        html += `<div class="grid-item">
            <h4>${comp.category}</h4>
            <div class="pills">${comp.pills.map(p => `<span class="pill">${p}</span>`).join('')}</div>
        </div>`;
    });
    html += '</div></div>';
    
    // References
    html += '<div class="grid-section"><div class="grid-section-title">References & Testimonials</div><div class="grid-items">';
    content.references.forEach(ref => {
        html += `<div class="grid-item">
            <h4>${ref.name}</h4>
            <p>${ref.quote}</p>
            <span class="duration">${ref.title}</span>
        </div>`;
    });
    html += '</div></div>';
    
    // Education
    html += '<div class="grid-section"><div class="grid-section-title">Education</div><div class="grid-items">';
    content.education.forEach(edu => {
        html += `<div class="grid-item">
            <h4>${edu.school}</h4>
            <p>${edu.description}</p>
            <span class="duration">${edu.duration}</span>
        </div>`;
    });
    html += '</div></div>';
    
    return html;
}

// Refactored: Generate dashboard-style bento-box for case studies
function generateCaseStudyHTML(content) {
    let html = '<div class="bento-container">';
    
    // Title box (full span)
    html += `<div class="bento-box span-4">
        <h1>${content.title}</h1>
    </div>`;
    
    // Overview box (span 3 for prominence)
    const overview = content.sections.find(s => s.type === 'overview');
    if (overview) {
        html += `<div class="bento-box span-3">
            <h2>${overview.h2}</h2>
            <p>${overview.p}</p>
        </div>`;
    }
    
    // Process box (span 1, compact info)
    const process = content.sections.find(s => s.type === 'process');
    if (process) {
        html += `<div class="bento-box span-1">
            <h2>${process.h2}</h2>
            ${process.details.map(d => `<div class="detail"><span class="label">${d.label}</span> ${d.value}</div>`).join('')}
        </div>`;
    }
    
    // Challenges box (span 2)
    const challenges = content.sections.find(s => s.type === 'challenges');
    if (challenges) {
        html += `<div class="bento-box span-2">
            <h2>${challenges.h2}</h2>
            <p>${challenges.p1}</p>
            <p>${challenges.p2}</p>
            ${challenges.p3 ? `<p>${challenges.p3}</p>` : ''}
        </div>`;
    }
    
    // Outcomes box (span 2)
    const outcomes = content.sections.find(s => s.type === 'outcomes');
    if (outcomes) {
        html += `<div class="bento-box span-2">
            <h2>${outcomes.h2}</h2>
            <p>${outcomes.p}</p>
        </div>`;
    }
    
    // Insights box (span 4, full width for emphasis)
    const insights = content.sections.find(s => s.type === 'insights');
    if (insights) {
        html += `<div class="bento-box span-4">
            <h2>${insights.h2}</h2>
            <p>${insights.p}</p>
            <p class="aside">${insights.aside}</p>
        </div>`;
    }
    
    // Visuals bento grid (full span with internal grid)
    const visuals = content.sections.find(s => s.type === 'visuals');
    if (visuals) {
        html += `<div class="bento-box span-4 image-grid">
            <h2>${visuals.h2}</h2>
            <div class="case-study-grid">
                ${visuals.images.map(img => `<img src="${img.src}" alt="${img.alt}" data-src="${img.src}">`).join('')}
            </div>
        </div>`;
    }
    
    // Stack bento grid (full span with internal flex/grid)
    const stack = content.sections.find(s => s.type === 'stack');
    if (stack) {
        html += `<div class="bento-box span-4 stack-grid">
            <h2>${stack.h2}</h2>
            <div class="case-study-stack">
                ${stack.images.map(img => `<figure><img src="${img.src}" alt="${img.alt}" data-src="${img.src}"></figure>`).join('')}
            </div>
        </div>`;
    }
    
    html += '</div>';
    return html;
}

// Render all content on load
window.addEventListener('DOMContentLoaded', () => {
    document.getElementById('listViewContent').innerHTML = generateListView(resumeContent);
    document.getElementById('gridViewContent').innerHTML = generateGridView(resumeContent);
    document.getElementById('case1Content').innerHTML = generateCaseStudyHTML(case1Content);
    document.getElementById('case2Content').innerHTML = generateCaseStudyHTML(case2Content);
});

// Rest of the script...
const body = document.body;
const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
const isFinePointer = window.matchMedia('(pointer: fine)').matches;
const shouldRunCursor = isFinePointer && !prefersReducedMotion;
const shouldRunAdvancedEffects = isFinePointer && !prefersReducedMotion;
const themeToggle = document.getElementById('themeToggle');
const themeIcon = document.getElementById('themeIcon');
const logoToggle = document.getElementById('logoToggle');
// Themes array
const themes = ['dark', 'light', 'rose', 'bauhaus', 'typographic'];
// Update Logo Function
function updateLogo(theme) {
const logoImg = document.querySelector('.logo img');

// Rose theme now uses the DARK logo because the background is a bright pink.
// This matches Light and Bauhaus themes.
if (theme === 'light' || theme === 'bauhaus' || theme === 'typographic' || theme === 'rose') {
logoImg.src = 'https://raw.githubusercontent.com/ZACKGORT/intoview/main/intoview-logo-dark.svg.svg';
} else {
// Default 'dark' theme uses the LIGHT logo.
logoImg.src = 'https://raw.githubusercontent.com/ZACKGORT/intoview/main/intoview-logo-light.svg.svg';
}
}
function getNextTheme(current) {
const index = themes.indexOf(current);
return themes[(index + 1) % themes.length];
}
function updateThemeIcon(theme) {
if (theme === 'light') {
// Sun icon
themeIcon.innerHTML = '<circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>';
} else if (theme === 'rose') {
// Sparkle/Star icon
themeIcon.innerHTML = '<path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path>';
} else if (theme === 'bauhaus') {
// Bauhaus Square/Grid icon
themeIcon.innerHTML = '<rect x="3" y="3" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none"/>';
} else if (theme === 'typographic') {
// Type/Text icon
themeIcon.innerHTML = '<path d="M4 7V4h16v3M9 20h6M12 4v16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>';
} else {
// Moon icon (default dark)
themeIcon.innerHTML = '<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>';
}
}
function initTheme() {
let saved = localStorage.getItem('zack-theme');
if (!themes.includes(saved)) {
saved = window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark';
}
body.setAttribute('data-theme', saved);
updateThemeIcon(saved);
updateLogo(saved); // Set initial logo
}
function toggleTheme() {
const current = body.getAttribute('data-theme');
const next = getNextTheme(current);
body.setAttribute('data-theme', next);
localStorage.setItem('zack-theme', next);
updateThemeIcon(next);
updateLogo(next); // Update logo on toggle
}
initTheme();
if (themeToggle) themeToggle.addEventListener('click', toggleTheme);
if (logoToggle) logoToggle.addEventListener('click', toggleTheme);
// Cursor Trail Effect (Performance Fix: throttled by shouldRunCursor)
(() => {
if (!shouldRunCursor) return; // PERFORMANCE FIX: Skip on coarse pointers or reduced motion

const TAIL_LENGTH = innerWidth < 800 ? 6 : 14;
const host = document.getElementById('cursor');
if (!host) return;
for (let i = 0; i < TAIL_LENGTH; i++) {
const d = document.createElement('div');
d.className = 'cursor-circle';
host.appendChild(d);
}
const circles = host.querySelectorAll('.cursor-circle');
let mouseX = innerWidth / 2, mouseY = innerHeight / 2;
const history = Array(TAIL_LENGTH).fill(0).map(() => ({ x: mouseX, y: mouseY }));
window.addEventListener('pointermove', e => {
mouseX = e.clientX;
mouseY = e.clientY;
}, { passive: true });
function tick() {
history.shift();
history.push({ x: mouseX, y: mouseY });
circles.forEach((c, i) => {
  const cur = history[i];
  const next = history[i + 1] || history[TAIL_LENGTH - 1];
  cur.x += (next.x - cur.x) * 0.35;
  cur.y += (next.y - cur.y) * 0.35;
  const s = Math.max(0.22, i / TAIL_LENGTH);
  c.style.transform = `translate(calc(${cur.x}px - 50%), calc(${cur.y}px - 50%)) scale(${s})`;
});
requestAnimationFrame(tick);
}
tick();
})();
const gridView = document.getElementById('gridView');
const listView = document.getElementById('listView');
const gridBtn = document.getElementById('gridBtn');
const listBtn = document.getElementById('listBtn');
// MODE TRANSITION & ACCESSIBILITY FIX: Functions to handle view switching and state persistence
function showGridView() {
gridView.style.display = 'block';
listView.style.display = 'none';
gridBtn.classList.add('active');
gridBtn.setAttribute('aria-current', 'true'); // ACCESSIBILITY FIX
listBtn.classList.remove('active');
listBtn.removeAttribute('aria-current'); // ACCESSIBILITY FIX
localStorage.setItem('viewMode', 'grid'); // PERSISTENCE FIX
}
function showListView() {
gridView.style.display = 'none';
listView.style.display = 'block';
listBtn.classList.add('active');
listBtn.setAttribute('aria-current', 'true'); // ACCESSIBILITY FIX
gridBtn.classList.remove('active');
gridBtn.removeAttribute('aria-current'); // ACCESSIBILITY FIX
localStorage.setItem('viewMode', 'list'); // PERSISTENCE FIX
}
// Load View State on Initial Load
function loadViewState() {
const savedView = localStorage.getItem('viewMode') || 'list';
if (savedView === 'grid') {
    showGridView();
} else {
    // Since list is default, call explicitly to set aria attributes correctly
    showListView();
}
}
if (gridBtn) {
// Attach new event listeners
gridBtn.addEventListener('click', showGridView);
listBtn.addEventListener('click', showListView);
}
loadViewState(); // Apply the saved state immediately
// FIRST-TIME GUIDANCE FIX: Drag Hint Logic
const dragHints = document.querySelectorAll('.drag-hint');
const IS_FIRST_VISIT = !localStorage.getItem('hasVisitedCV'); // Use a specific key
if (IS_FIRST_VISIT && shouldRunAdvancedEffects) { // Only show hint if effects are running
// Show hint after a small delay
setTimeout(() => {
    dragHints.forEach(hint => {
        hint.classList.add('visible');
        hint.setAttribute('aria-hidden', 'false');
    });
}, 2000); // Show after 2 seconds

localStorage.setItem('hasVisitedCV', 'true'); // Set flag to remember the visit
}
// Function to hide the hint on first interaction
function hideDragHint() {
dragHints.forEach(hint => {
    hint.classList.remove('visible');
    hint.setAttribute('aria-hidden', 'true');
});
// Remove listeners to only run once
window.removeEventListener('pointerdown', hideDragHint);
window.removeEventListener('keydown', hideDragHint);
window.removeEventListener('wheel', hideDragHint);
}
// Hide hint on any interaction
window.addEventListener('pointerdown', hideDragHint, { once: true });
window.addEventListener('keydown', hideDragHint, { once: true });
window.addEventListener('wheel', hideDragHint, { once: true });
// Drag Scroll Initialization (Performance Fix: includes throttling logic)
function initDragScroll(element) {

// PERFORMANCE FIX: Only run complex momentum on fine pointers & without reduced motion
if (!shouldRunAdvancedEffects) {
  // Fallback: Use only basic, synchronous drag-scroll for better performance
  let isDown = false;
  let startX;
  let scrollLeft;
  element.addEventListener('pointerdown', (e) => {
      isDown = true;
      startX = e.pageX - element.offsetLeft;
      scrollLeft = element.scrollLeft;
      element.style.cursor = 'grabbing';
  });
  element.addEventListener('pointerleave', () => {
      isDown = false;
      element.style.cursor = 'auto';
  });
  element.addEventListener('pointerup', () => {
      isDown = false;
      element.style.cursor = 'auto';
  });
  element.addEventListener('pointermove', (e) => {
      if (!isDown) return;
      e.preventDefault();
      const x = e.pageX - element.offsetLeft;
      const walk = (x - startX) * 1.5; // Drag speed
      element.scrollLeft = scrollLeft - walk;
  });
  return; // Exit the function to prevent running the momentum version
}

// Original Momentum Drag Scroll Logic (runs when shouldRunAdvancedEffects is true)
let isDown = false;
let isDragging = false;
let startX, startY, scrollLeft, scrollTop;
let velocityX = 0, velocityY = 0;
let initialX, initialY;
const threshold = 5; // Pixels to distinguish drag from click
const start = (e) => {
if (e.button !== 0 && e.pointerType !== 'touch') return;
isDown = true;
isDragging = false;
initialX = e.pageX;
initialY = e.pageY;
velocityX = 0;
velocityY = 0;
element.style.cursor = 'grab';
};
const move = (e) => {
if (!isDown) return;
const dx = e.pageX - initialX;
const dy = e.pageY - initialY;

// Check threshold to start dragging
if (!isDragging && (Math.abs(dx) > threshold || Math.abs(dy) > threshold)) {
  isDragging = true;
  startX = e.pageX;
  startY = e.pageY;
  scrollLeft = element.scrollLeft;
  scrollTop = element.scrollTop;
  element.style.cursor = 'grabbing';
}
if (isDragging) {
  e.preventDefault();
  const x = e.pageX;
  const y = e.pageY;
  const walkX = (x - startX);
  const walkY = (y - startY);
 
  // Calculate velocity for momentum
  velocityX = walkX * 0.1;
  velocityY = walkY * 0.1;
  // Apply drag scroll
  element.scrollLeft = scrollLeft - walkX;
  element.scrollTop = scrollTop - walkY;
  // Update start points for continuous velocity calculation
  startX = x;
  startY = y;
  scrollLeft = element.scrollLeft;
  scrollTop = element.scrollTop;
}
};
const stop = (e) => {
if (!isDown) return;
isDown = false;
const wasDragging = isDragging;
isDragging = false;
element.style.cursor = wasDragging ? 'grab' : 'auto';
if (wasDragging) {
  const momentum = () => {
    element.scrollLeft += velocityX * 30;
    element.scrollTop += velocityY * 30;
    velocityX *= 0.95;
    velocityY *= 0.95;
    if (Math.abs(velocityX) > 0.01 || Math.abs(velocityY) > 0.01) {
      requestAnimationFrame(momentum);
    }
  };
  momentum();
}
};
element.addEventListener('pointerdown', start, { passive: true });
element.addEventListener('pointermove', move, { passive: false }); // Needs to be non-passive for preventDefault
element.addEventListener('pointerup', stop);
element.addEventListener('pointercancel', stop);
element.addEventListener('pointerleave', stop);
}
initDragScroll(document.getElementById('resume-view'));
initDragScroll(document.getElementById('case1-view'));
initDragScroll(document.getElementById('case2-view'));
// Global Tilt Effect for 3D Feel (Performance Fix: throttled by shouldRunAdvancedEffects)
const tiltContainers = document.querySelectorAll('.curved');
if (tiltContainers.length > 0 && shouldRunAdvancedEffects) { // PERFORMANCE FIX: Only run on high-spec/fine pointer devices
window.addEventListener('mousemove', (e) => {
const { clientX, clientY } = e;
const { innerWidth, innerHeight } = window;

// Calculate rotation (subtle tilt) - max 1.5 degrees
// X rotation is based on Y position (inverted)
// Y rotation is based on X position
const xRot = ((clientY / innerHeight) - 0) * .3; // Max 1.5 deg tilt (3 * 0.5)
const yRot = ((clientX / innerWidth) - 0) * .3;
tiltContainers.forEach(container => {
  // Only animate the currently visible container
  if (container.style.display !== 'none') {
    container.style.transform = `perspective(2000px) rotateX(${xRot}deg) rotateY(${-yRot}deg)`;
  }
});
}, { passive: true });
}
// Image Lazy Loading/Preloading logic
const observer = new IntersectionObserver((entries) => {
entries.forEach(entry => {
    if (entry.isIntersecting) {
        const img = entry.target;
        const src = img.getAttribute('data-src');
        if (src) {
            img.src = src;
            img.removeAttribute('data-src');
            observer.unobserve(img);
        }
    }
});
});
document.querySelectorAll('img[data-src]').forEach(img => {
observer.observe(img);
});
// Overlay and Focus Trap logic
const fabButton = document.getElementById('fabButton');
const overlay = document.getElementById('overlay');
const closeOverlayBtn = document.getElementById('closeOverlay');
let lastFocus = null;
function openOverlay() {
lastFocus = document.activeElement;
overlay.classList.add('open');
const sheet = overlay.querySelector('.sheet');
sheet.setAttribute('tabindex', '-1');

// GSAP animation: Slide in from right
gsap.fromTo(sheet, 
{ x: '100%', opacity: 0, scale: 0.95 },  
{ x: '0%', opacity: 1, scale: 1, duration: 0.6, ease: 'power3.out' }  
);

sheet.focus();
document.addEventListener('keydown', onKeyDown);
overlay.setAttribute('aria-hidden', 'false');
fabButton.setAttribute('aria-expanded', 'true');
overlay.addEventListener('click', handleOutsideClick);
}
function closeOverlayFn() {
const sheet = overlay.querySelector('.sheet');

// GSAP animation: Slide out to right
gsap.to(sheet, {
x: '100%', opacity: 0, scale: 0.95, duration: 0.4, ease: 'power2.in',
onComplete: () => {
  overlay.classList.remove('open');
  overlay.setAttribute('aria-hidden', 'true');
  fabButton.setAttribute('aria-expanded', 'false');
  if (lastFocus) lastFocus.focus();
  overlay.removeEventListener('click', handleOutsideClick);
}
});

document.removeEventListener('keydown', onKeyDown);
}
function handleOutsideClick(e) {
const sheet = overlay.querySelector('.sheet');
if (!sheet.contains(e.target)) {
closeOverlayFn();
}
}
function onKeyDown(e) {
if (e.key === 'Escape') closeOverlayFn();
if (e.key === 'Tab') {
    const focusable = overlay.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
    const first = focusable[0];
    const last = focusable[focusable.length - 1];
   
    // Trap focus inside the sheet
    if (e.shiftKey && document.activeElement === first) {
        e.preventDefault();
        last.focus();
    } else if (!e.shiftKey && document.activeElement === last) {
        e.preventDefault();
        first.focus();
    }
}
}
if (fabButton) fabButton.addEventListener('click', openOverlay);
if (closeOverlayBtn) closeOverlayBtn.addEventListener('click', closeOverlayFn);
// Context Menu (Right-click) Logic
const contextMenu = document.getElementById('contextMenu');
document.addEventListener('contextmenu', (e) => {
e.preventDefault();
contextMenu.style.top = `${e.clientY}px`;
contextMenu.style.left = `${e.clientX}px`;
contextMenu.style.display = 'block';
});
document.addEventListener('click', () => {
contextMenu.style.display = 'none';
});
// Context Menu Actions
document.getElementById('expandAll').addEventListener('click', () => {
document.querySelectorAll('details').forEach(d => d.open = true);
contextMenu.style.display = 'none';
});
document.getElementById('reset').addEventListener('click', () => {
document.querySelectorAll('details').forEach(d => d.open = false);
contextMenu.style.display = 'none';
});
document.getElementById('savePdf').addEventListener('click', () => {
contextMenu.style.display = 'none';
generateATSOptimizedPDF();
});
document.getElementById('copyLink').addEventListener('click', () => {
navigator.clipboard.writeText(window.location.href).then(() => {
    // Optional: Provide visual feedback like a brief toast message
});
contextMenu.style.display = 'none';
});
function generateATSOptimizedPDF() {
const { jsPDF } = window.jspdf;
const doc = new jsPDF({
orientation: 'p',
unit: 'mm',
format: 'a4',
putOnlyUsedFonts: true
});
doc.setFont("helvetica");
doc.setFontSize(16);
doc.text("Zachary Gort", 20, 20);
doc.setFontSize(12);
doc.text(resumeContent.hero.album, 20, 30);
// Contact
doc.text("Contact:", 20, 40);
doc.text("Email: zack@reasonably.cc", 20, 50);
doc.text("Portfolio: zackgort.com", 20, 60);
doc.text("LinkedIn: linkedin.com/in/zackgort", 20, 70);
doc.text("#", 20, 80);
// Summary
let y = 90;
doc.text("Professional Summary:", 20, y);
y += 10;
const summaryText = resumeContent.summary.album;
const splitSummary = doc.splitTextToSize(summaryText, 170);
doc.text(splitSummary, 20, y);
y += splitSummary.length * 7;
// Experience
doc.text("Experience:", 20, y);
y += 10;
resumeContent.experiences.forEach(exp => {
const company = exp.artist;
const role = exp.role;
const year = exp.year;
const summary = exp.summary;
const detailTitle = exp.details.title;
const bullets = exp.details.bullets;
const skills = exp.pills;
doc.setFont("helvetica", "bold");
doc.text(company, 20, y);
y += 7;
doc.setFont("helvetica", "normal");
doc.text(role, 20, y);
y += 7;
doc.text(year, 20, y);
y += 7;
const splitSum = doc.splitTextToSize(summary, 170);
doc.text(splitSum, 20, y);
y += splitSum.length * 7;
if (detailTitle) {
  doc.text(detailTitle + ":", 20, y);
  y += 7;
  bullets.forEach(bullet => {
    const splitBullet = doc.splitTextToSize("- " + bullet, 160);
    doc.text(splitBullet, 25, y);
    y += splitBullet.length * 7;
  });
}
if (skills.length) {
  doc.text("Skills: " + skills.join(", "), 20, y);
  y += 10;
}
y += 5;
if (y > 270) {
  doc.addPage();
  y = 20;
}
});
// Specializations
doc.text("Specializations:", 20, y);
y += 10;
resumeContent.specializations.forEach(spec => {
const title = spec.title;
const desc = spec.description;
doc.setFont("helvetica", "bold");
doc.text(title, 20, y);
y += 7;
doc.setFont("helvetica", "normal");
const splitDesc = doc.splitTextToSize(desc, 170);
doc.text(splitDesc, 20, y);
y += splitDesc.length * 7 + 5;
if (y > 270) {
  doc.addPage();
  y = 20;
}
});
// Core Competencies
doc.text("Core Competencies:", 20, y);
y += 10;
resumeContent.competencies.forEach(core => {
const title = core.category;
const pills = core.pills.join(", ");
doc.setFont("helvetica", "bold");
doc.text(title, 20, y);
y += 7;
doc.setFont("helvetica", "normal");
const splitPills = doc.splitTextToSize(pills, 170);
doc.text(splitPills, 20, y);
y += splitPills.length * 7 + 5;
if (y > 270) {
  doc.addPage();
  y = 20;
}
});
// References
doc.text("References & Testimonials:", 20, y);
y += 10;
resumeContent.references.forEach(ref => {
const name = ref.name;
const quote = ref.quote;
const title = ref.title;
doc.setFont("helvetica", "bold");
doc.text(name, 20, y);
y += 7;
doc.setFont("helvetica", "normal");
const splitQuote = doc.splitTextToSize(quote, 170);
doc.text(splitQuote, 20, y);
y += splitQuote.length * 7;
doc.text(title, 20, y);
y += 7 + 5;
if (y > 270) {
  doc.addPage();
  y = 20;
}
});
// Education
doc.text("Education:", 20, y);
y += 10;
resumeContent.education.forEach(edu => {
const school = edu.school;
const desc = edu.description;
const years = edu.duration;
doc.setFont("helvetica", "bold");
doc.text(school, 20, y);
y += 7;
doc.setFont("helvetica", "normal");
const splitDesc = doc.splitTextToSize(desc, 170);
doc.text(splitDesc, 20, y);
y += splitDesc.length * 7;
doc.text(years, 20, y);
y += 7;
if (y > 270) {
  doc.addPage();
  y = 20;
}
});
doc.save("ZacharyGort-UX-Resume-2025.pdf");
}

// New Filters Logic (kept but button hidden)
const filterBtn = document.getElementById('filterBtn');
const filterOverlay = document.getElementById('filterOverlay');
const closeFilter = document.getElementById('closeFilter');
const applyFilter = document.getElementById('applyFilter');
const filterList = document.getElementById('filterList');

function openFilter() {
// Collect unique tags from pills
const tags = new Set();
document.querySelectorAll('.pills .pill').forEach(pill => tags.add(pill.textContent.trim()));
filterList.innerHTML = '';
tags.forEach(tag => {
  const label = document.createElement('label');
  label.innerHTML = `<input type="checkbox" value="${tag}"> ${tag}`;
  filterList.appendChild(label);
});

lastFocus = document.activeElement;
filterOverlay.classList.add('open');
const sheet = filterOverlay.querySelector('.filter-sheet');
sheet.setAttribute('tabindex', '-1');
gsap.fromTo(sheet, { x: '-100%', opacity: 0 }, { x: '0%', opacity: 1, duration: 0.6, ease: 'power3.out' });
sheet.focus();
document.addEventListener('keydown', onKeyDownFilter);
filterOverlay.setAttribute('aria-hidden', 'false');
}

function closeFilterFn() {
const sheet = filterOverlay.querySelector('.filter-sheet');
gsap.to(sheet, {
  x: '-100%', opacity: 0, duration: 0.4, ease: 'power2.in',
  onComplete: () => {
    filterOverlay.classList.remove('open');
    filterOverlay.setAttribute('aria-hidden', 'true');
    if (lastFocus) lastFocus.focus();
  }
});
document.removeEventListener('keydown', onKeyDownFilter);
}

function onKeyDownFilter(e) {
if (e.key === 'Escape') closeFilterFn();
if (e.key === 'Tab') {
    const focusable = filterOverlay.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
    const first = focusable[0];
    const last = focusable[focusable.length - 1];
   
    // Trap focus inside the sheet
    if (e.shiftKey && document.activeElement === first) {
        e.preventDefault();
        last.focus();
    } else if (!e.shiftKey && document.activeElement === last) {
        e.preventDefault();
        first.focus();
    }
}
}

function applyFilters() {
const checked = Array.from(filterList.querySelectorAll('input:checked')).map(input => input.value);
const items = document.querySelectorAll('.project-item.experience, .grid-item.experience');
items.forEach(item => {
  const itemTags = Array.from(item.querySelectorAll('.pill')).map(pill => pill.textContent.trim());
  const matches = checked.length === 0 || checked.some(tag => itemTags.includes(tag));
  item.style.display = matches ? '' : 'none';
});
closeFilterFn();
}

if (filterBtn) filterBtn.addEventListener('click', openFilter);
if (closeFilter) closeFilter.addEventListener('click', closeFilterFn);
if (applyFilter) applyFilter.addEventListener('click', applyFilters);

// NEW: Toggle Navigation JavaScript (Refactored)
const toggleButtons = document.querySelectorAll('#top-toggle-nav button');
const views = {
resume: document.getElementById('resume-view'),
case1: document.getElementById('case1-view'),
case2: document.getElementById('case2-view')
};

// Updated switchView function to handle hiding the grid:list toggle and increasing padding for case studies
function switchView(view) {
Object.values(views).forEach(v => v.classList.remove('active'));
views[view].classList.add('active');

toggleButtons.forEach(btn => {
btn.classList.toggle('active', btn.dataset.view === view);
});

// Hide grid:list UI toggle (view-toggle) when in case study view
const viewToggle = document.querySelector('.view-toggle');
if (view.startsWith('case')) {
viewToggle.style.display = 'none';
} else {
viewToggle.style.display = ''; // Reset to default (visible)
}

// Increase visual padding for case study content
const content = views[view].querySelector('.view-content');
if (content) {
if (view.startsWith('case')) {
// Increased padding: more top/bottom and wider sides
content.style.padding = 'clamp(80px, 12vh, 120px) 8% var(--fab-bottom) 8%';
} else {
// Reset to original for resume view
content.style.padding = 'clamp(60px, 8vh, 80px) 5% var(--fab-bottom) 5%';
}
}

// Smooth transition
gsap.fromTo(views[view], 
{ opacity: 0, y: 20 },
{ opacity: 1, y: 0, duration: 0.5, ease: 'power2.out' }
);
}

toggleButtons.forEach(btn => {
btn.addEventListener('click', () => switchView(btn.dataset.view));
});

// Initial setup
switchView('resume');
</script>
</body>
</html>
</DOCUMENT>
