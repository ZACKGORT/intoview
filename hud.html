<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1.0,user-scalable=no,viewport-fit=cover" />
  <title>IntoView:Node</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=JetBrains+Mono:wght@500;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-color: #050505;
      --card-bg: #111111;
      --ink: #ffffff;
      --ink-dim: #888888;
      --accent: #FFED29;
      
      --neon-green: #22c55e;
      --neon-orange: #f97316;
      --neon-red: #ef4444;
      
      --glass-bg: rgba(20, 20, 20, 0.85);
      --glass-border: rgba(255, 255, 255, 0.1);
      --glass-blur: 16px;
      
      --nav-height: 80px;
      --header-height: 60px;
      --font-mono: 'JetBrains Mono', monospace;
      --font-sans: 'Inter', sans-serif;
    }

    [data-theme="light"] {
      --bg-color: #f0f0f0;
      --card-bg: #ffffff;
      --ink: #111111;
      --ink-dim: #666666;
      --glass-bg: rgba(255, 255, 255, 0.9);
      --glass-border: rgba(0, 0, 0, 0.1);
    }

    * { margin:0; padding:0; box-sizing:border-box; -webkit-tap-highlight-color: transparent; user-select: none; }
    html, body { height: 100%; font-family: var(--font-sans); background: var(--bg-color); color: var(--ink); overflow: hidden; }

    /* --- Typography & Utilities --- */
    .text-green { color: var(--neon-green); }
    .text-orange { color: var(--neon-orange); }
    .text-red { color: var(--neon-red); }
    
    /* --- Layout Structure --- */
    .app-header {
      position: fixed; top: 0; left: 0; right: 0; height: var(--header-height);
      display: flex; justify-content: space-between; align-items: center;
      padding: 0 20px; z-index: 100;
      background: linear-gradient(to bottom, var(--bg-color) 20%, transparent);
      pointer-events: none;
    }
    .app-header > * { pointer-events: auto; }
    
    .logo { font-weight: 800; font-size: 18px; letter-spacing: -0.5px; display: flex; align-items: center; gap: 8px; }
    .logo::before { content:''; display:block; width:12px; height:12px; background:var(--accent); border-radius:50%; }

    .view-container {
      position: absolute; inset: 0;
      top: var(--header-height); bottom: var(--nav-height);
      overflow: hidden; opacity: 0; pointer-events: none;
      transition: opacity 0.3s ease;
    }
    .view-container.active { opacity: 1; pointer-events: auto; }

    /* --- Grid View --- */
    #gridContainer { overflow-y: auto; padding: 10px 16px 40px 16px; }
    .grid-wrapper {
      display: grid; 
      grid-template-columns: 1fr; /* Mobile First: 1 col */
      gap: 16px; 
      padding-bottom: 40px;
    }
    @media(min-width: 600px) { .grid-wrapper { grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); } }

    .card {
      background: var(--card-bg);
      border: 1px solid var(--glass-border);
      border-radius: 16px;
      padding: 20px;
      position: relative;
      display: flex; flex-direction: column; gap: 12px;
      transition: transform 0.2s, background 0.2s;
    }
    .card:active { transform: scale(0.98); background: var(--glass-border); }

    .card-top { display: flex; justify-content: space-between; align-items: center; }
    .card-provider { font-weight: 600; font-size: 14px; opacity: 0.8; text-transform: uppercase; letter-spacing: 1px; }
    .status-dot { width: 8px; height: 8px; border-radius: 50%; box-shadow: 0 0 8px currentColor; }

    .card-timer {
      font-family: var(--font-mono);
      font-size: 2.4rem; /* Prominent Large Format */
      font-weight: 700;
      text-align: center;
      letter-spacing: -1px;
      margin: 8px 0;
    }

    .card-meta { display: flex; justify-content: space-between; align-items: center; font-size: 12px; color: var(--ink-dim); border-top: 1px solid var(--glass-border); padding-top: 12px; }
    .card-email { font-family: var(--font-mono); opacity: 0.8; }
    .reset-badge { background: var(--glass-border); padding: 4px 8px; border-radius: 6px; }

    /* --- Scatter View --- */
    .scatter-canvas { width: 100%; height: 100%; position: relative; cursor: grab; transform-origin: 0 0; }
    .scatter-card {
      position: absolute;
      width: 220px;
      background: var(--card-bg);
      border: 1px solid var(--glass-border);
      border-radius: 12px;
      padding: 12px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      display: flex; flex-direction: column; align-items: center;
      transition: border-color 0.2s;
    }
    .scatter-card .card-timer { font-size: 1.4rem; margin: 4px 0; }
    .scatter-card .card-provider { font-size: 11px; }

    /* --- Bottom Navigation (Dock) --- */
    .bottom-nav {
      position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
      width: 92%; max-width: 400px;
      height: 64px;
      background: var(--glass-bg);
      backdrop-filter: blur(var(--glass-blur));
      border: 1px solid var(--glass-border);
      border-radius: 32px;
      display: flex; justify-content: space-between; align-items: center;
      padding: 0 8px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.5);
      z-index: 200;
    }

    .nav-group { display: flex; align-items: center; gap: 4px; }
    
    .nav-btn {
      width: 48px; height: 48px;
      border-radius: 50%;
      border: none; background: transparent;
      color: var(--ink-dim);
      font-size: 20px;
      display: flex; align-items: center; justify-content: center;
      cursor: pointer;
      transition: all 0.2s;
    }
    .nav-btn.active { color: var(--ink); background: rgba(255,255,255,0.1); }
    .nav-btn.primary { background: var(--accent); color: #000; transform: scale(1.1); box-shadow: 0 0 15px var(--accent); }
    .nav-btn.primary:active { transform: scale(1.0); }

    /* --- Modals & Overlays --- */
    .overlay {
      position: fixed; inset: 0; background: rgba(0,0,0,0.9); backdrop-filter: blur(8px);
      z-index: 300; opacity: 0; pointer-events: none; transition: opacity 0.3s;
      display: flex; align-items: flex-end; /* Bottom sheet on mobile */
    }
    .overlay.active { opacity: 1; pointer-events: auto; }
    @media(min-width: 600px) { .overlay { align-items: center; justify-content: center; } }

    .modal-sheet {
      width: 100%; background: var(--bg-color);
      border-top: 1px solid var(--glass-border);
      border-radius: 24px 24px 0 0;
      padding: 24px;
      transform: translateY(100%); transition: transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
      max-height: 85vh; overflow-y: auto;
    }
    .overlay.active .modal-sheet { transform: translateY(0); }
    @media(min-width: 600px) { 
      .modal-sheet { max-width: 400px; border-radius: 24px; border: 1px solid var(--glass-border); transform: scale(0.95); }
      .overlay.active .modal-sheet { transform: scale(1); }
    }

    .form-group { margin-bottom: 16px; }
    label { display: block; font-size: 12px; font-weight: 600; color: var(--ink-dim); margin-bottom: 6px; text-transform: uppercase; }
    input, select {
      width: 100%; padding: 16px;
      background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border);
      border-radius: 12px; color: var(--ink); font-size: 16px;
      font-family: var(--font-sans);
    }
    input:focus, select:focus { outline: none; border-color: var(--accent); background: rgba(255,255,255,0.1); }
    
    .btn-block { width: 100%; padding: 16px; border-radius: 12px; font-weight: 700; border: none; font-size: 14px; text-transform: uppercase; cursor: pointer; }
    .btn-primary { background: var(--accent); color: #000; }
    .btn-danger { background: rgba(239,68,68,0.2); color: var(--neon-red); margin-top: 12px; border: 1px solid rgba(239,68,68,0.5); }

    /* --- Utilities --- */
    .toast {
      position: fixed; top: 80px; left: 50%; transform: translateX(-50%) translateY(-20px);
      background: var(--accent); color: #000; padding: 10px 20px; border-radius: 20px;
      font-weight: 700; font-size: 12px; opacity: 0; pointer-events: none; transition: all 0.3s; z-index: 500;
    }
    .toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }
    
    /* Scatter Specific Mobile Controls */
    .scatter-controls {
      position: fixed; bottom: 100px; right: 20px; display: none; flex-direction: column; gap: 10px; z-index: 150;
    }
    .scatter-controls.visible { display: flex; }
    .control-btn { width: 40px; height: 40px; border-radius: 50%; background: var(--glass-bg); border: 1px solid var(--glass-border); color: var(--ink); font-size: 16px; backdrop-filter: blur(10px); }

  </style>
</head>
<body data-theme="dark">

  <header class="app-header">
    <div class="logo">IntoView:NODE</div>
    <div id="filterDisplay" style="font-size: 12px; font-weight:600; color: var(--ink-dim);">All Items</div>
  </header>

  <div id="gridContainer" class="view-container active">
    <div class="grid-wrapper" id="gridWrapper">
      </div>
  </div>

  <div id="scatterContainer" class="view-container">
    <div class="scatter-canvas" id="scatterCanvas">
      </div>
  </div>

  <div class="scatter-controls" id="scatterControls">
    <button class="control-btn" onclick="toggleMagnet()" id="magnetBtn">ðŸ§²</button>
    <button class="control-btn" onclick="adjustZoom(0.1)">+</button>
    <button class="control-btn" onclick="adjustZoom(-0.1)">-</button>
  </div>

  <nav class="bottom-nav">
    <div class="nav-group">
      <button class="nav-btn active" data-view="grid" onclick="switchView('grid')">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M10 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-6v12h-6V4z"></path></svg>
      </button>
      <button class="nav-btn" data-view="scatter" onclick="switchView('scatter')">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><circle cx="12" cy="12" r="3"></circle><circle cx="19" cy="5" r="2"></circle><circle cx="5" cy="19" r="2"></circle><circle cx="5" cy="5" r="2"></circle><circle cx="19" cy="19" r="2"></circle></svg>
      </button>
    </div>

    <button class="nav-btn primary" onclick="openModal()">+</button>

    <div class="nav-group">
      <button class="nav-btn" onclick="cycleStatusFilter()" id="statusFilterBtn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"></path></svg>
      </button>
      <button class="nav-btn" onclick="toggleTheme()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"></path></svg>
      </button>
    </div>
  </nav>

  <div class="overlay" id="modalOverlay">
    <div class="modal-sheet">
      <h2 style="margin-bottom:20px; font-family:var(--font-mono)" id="modalTitle">New Node</h2>
      <form id="nodeForm">
        <input type="hidden" id="nodeId">
        <div class="form-group">
          <label>Provider</label>
          <select id="inpProvider"></select>
        </div>
        <div class="form-group">
          <label>Email / Identity</label>
          <input type="text" id="inpEmail" required autocomplete="off">
        </div>
        <div class="form-group">
          <label>Reset Cycle (Hours)</label>
          <input type="number" id="inpReset" value="3" step="0.5" required>
        </div>
        <div class="form-group">
          <label>Current Status</label>
          <select id="inpStatus">
            <option value="active">Active (Ready)</option>
            <option value="cooldown">Cooldown</option>
            <option value="burnt">Burnt (Defunct)</option>
          </select>
        </div>
        <button type="submit" class="btn-block btn-primary">Save Node</button>
        <button type="button" class="btn-block btn-danger" id="btnDelete" style="display:none" onclick="deleteNode()">Delete Node</button>
        <div style="height:20px"></div>
      </form>
    </div>
  </div>

  <div class="toast" id="toast">Copied to Clipboard</div>

  <script>
    // --- Data Management ---
    const defaultProviders = ['ChatGPT', 'Claude', 'Gemini', 'Grok', 'Copilot'];
    let providers = JSON.parse(localStorage.getItem('iv_providers')) || defaultProviders;
    let items = JSON.parse(localStorage.getItem('iv_items')) || [];
    
    // Config State
    let config = {
      view: localStorage.getItem('iv_view') || 'grid',
      filter: 'all', // all, active, cooldown, burnt
      theme: localStorage.getItem('iv_theme') || 'dark'
    };
    
    // Scatter State
    let scatter = {
      zoom: 1,
      pan: {x: 0, y: 0},
      dragging: false,
      magnet: false,
      lastPos: {x:0, y:0}
    };

    // --- Init ---
    if(items.length === 0) seedMockData();
    applyTheme();
    updateProviderSelect();
    switchView(config.view);
    
    // Start the global timer loop (Crucial for the 00:00:00 logic)
    setInterval(updateTimers, 1000);

    // --- Core Functions ---

    function seedMockData() {
      const statuses = ['active', 'cooldown', 'burnt'];
      items = Array.from({length: 8}, (_, i) => ({
        id: Date.now() + i,
        provider: providers[i % providers.length],
        email: `account_${i+1}@llm.com`,
        status: statuses[i % 3],
        resetHours: 3,
        lastUsed: Date.now() - (Math.random() * 10000000), // Random time in past
        pos: { x: Math.random() * 300, y: Math.random() * 400 }
      }));
      save();
    }

    function save() {
      localStorage.setItem('iv_items', JSON.stringify(items));
      localStorage.setItem('iv_providers', JSON.stringify(providers));
    }

    function switchView(viewName) {
      config.view = viewName;
      localStorage.setItem('iv_view', viewName);
      
      // Update Tab UI
      document.querySelectorAll('.nav-btn[data-view]').forEach(b => b.classList.toggle('active', b.dataset.view === viewName));
      document.querySelectorAll('.view-container').forEach(c => c.classList.remove('active'));
      
      if(viewName === 'grid') {
        document.getElementById('gridContainer').classList.add('active');
        document.getElementById('scatterControls').classList.remove('visible');
        renderGrid();
      } else {
        document.getElementById('scatterContainer').classList.add('active');
        document.getElementById('scatterControls').classList.add('visible');
        renderScatter();
      }
    }

    function filterItems() {
      if (config.filter === 'all') return items;
      return items.filter(i => i.status === config.filter);
    }

    // --- Grid Render ---

    function renderGrid() {
      const wrapper = document.getElementById('gridWrapper');
      const filtered = filterItems();
      
      wrapper.innerHTML = filtered.map(item => `
        <div class="card" onclick="editNode(${item.id})">
          <div class="card-top">
            <span class="card-provider">${item.provider}</span>
            <div class="status-dot ${getStatusColorClass(item.status)}"></div>
          </div>
          
          <div class="card-timer ${getStatusColorClass(item.status)}" id="timer-${item.id}" data-id="${item.id}">
            --:--:--
          </div>

          <div class="card-meta">
            <span class="card-email" onclick="copyText(event, '${item.email}')">${item.email}</span>
            <span class="reset-badge">${item.resetHours}h Reset</span>
          </div>
        </div>
      `).join('');
      
      updateTimers(); // Immediate update so numbers don't jump
    }

    // --- Scatter Render ---

    function renderScatter() {
      const canvas = document.getElementById('scatterCanvas');
      const filtered = filterItems();
      
      canvas.innerHTML = filtered.map(item => `
        <div class="scatter-card" 
             id="scatter-${item.id}"
             style="transform: translate(${item.pos.x}px, ${item.pos.y}px)"
             onpointerdown="startDrag(event, ${item.id})"
             onclick="if(!scatter.dragging) editNode(${item.id})">
          <div class="status-dot ${getStatusColorClass(item.status)}" style="margin-bottom:8px"></div>
          <div class="card-timer ${getStatusColorClass(item.status)}" data-id="${item.id}" style="font-size:1.5rem">
            00:00:00
          </div>
          <div class="card-provider">${item.provider}</div>
        </div>
      `).join('');
      
      applyScatterTransform();
      updateTimers();
    }

    // --- Timer Logic (The "Brain") ---

    function updateTimers() {
      const now = Date.now();
      
      items.forEach(item => {
        // Update both Grid and Scatter elements if they exist
        const elements = document.querySelectorAll(`[data-id="${item.id}"]`);
        
        elements.forEach(el => {
          if (!el.classList.contains('card-timer')) return;

          if (item.status === 'burnt') {
            el.textContent = "DEFUNCT";
            el.className = `card-timer text-red`;
            return;
          }

          if (item.status === 'active') {
            el.textContent = "00:00:00";
            el.className = `card-timer text-green`;
            return;
          }

          // Cooldown Logic
          const cooldownMs = item.resetHours * 60 * 60 * 1000;
          const targetTime = item.lastUsed + cooldownMs;
          const diff = targetTime - now;

          if (diff <= 0) {
            // Timer finished -> Automatically visually show 00:00:00 (implies ready)
            // Optional: Auto-update status to active? For now, we just show 00:00:00
            el.textContent = "00:00:00";
            el.className = `card-timer text-green`;
          } else {
            // Ticking
            const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const s = Math.floor((diff % (1000 * 60)) / 1000);
            el.textContent = `${pad(h)}:${pad(m)}:${pad(s)}`;
            el.className = `card-timer text-orange`;
          }
        });
      });
    }

    function pad(n) { return n < 10 ? '0'+n : n; }
    function getStatusColorClass(s) {
      if(s === 'active') return 'text-green';
      if(s === 'cooldown') return 'text-orange';
      return 'text-red';
    }

    // --- Form / Interaction ---

    function openModal() {
      document.getElementById('nodeForm').reset();
      document.getElementById('nodeId').value = '';
      document.getElementById('btnDelete').style.display = 'none';
      document.getElementById('modalTitle').textContent = "New Node";
      document.getElementById('modalOverlay').classList.add('active');
    }

    function editNode(id) {
      const item = items.find(i => i.id === id);
      if(!item) return;
      document.getElementById('nodeId').value = item.id;
      document.getElementById('inpProvider').value = item.provider;
      document.getElementById('inpEmail').value = item.email;
      document.getElementById('inpReset').value = item.resetHours;
      document.getElementById('inpStatus').value = item.status;
      
      document.getElementById('btnDelete').style.display = 'block';
      document.getElementById('modalTitle').textContent = "Edit Node";
      document.getElementById('modalOverlay').classList.add('active');
    }

    document.getElementById('nodeForm').addEventListener('submit', (e) => {
      e.preventDefault();
      const idVal = document.getElementById('nodeId').value;
      const isNew = !idVal;
      
      const payload = {
        id: isNew ? Date.now() : Number(idVal),
        provider: document.getElementById('inpProvider').value,
        email: document.getElementById('inpEmail').value,
        resetHours: parseFloat(document.getElementById('inpReset').value),
        status: document.getElementById('inpStatus').value,
        // If status is cooldown and it wasn't before (or is new), reset lastUsed to NOW
        lastUsed: Date.now() // Simple logic: any edit resets timer anchor for simplicity in this demo
      };
      
      if(isNew) {
        payload.pos = {x: 50 + Math.random()*200, y: 100 + Math.random()*200};
        items.push(payload);
      } else {
        const idx = items.findIndex(i => i.id == idVal);
        payload.pos = items[idx].pos; // preserve pos
        // Preserve lastUsed if status didn't change to cooldown to avoid accidental resets?
        // For this demo: Resetting timer on Edit is usually desired behavior.
        items[idx] = payload;
      }
      
      save();
      closeModal();
      config.view === 'grid' ? renderGrid() : renderScatter();
    });

    function deleteNode() {
      if(!confirm("Delete this node?")) return;
      const id = Number(document.getElementById('nodeId').value);
      items = items.filter(i => i.id !== id);
      save();
      closeModal();
      config.view === 'grid' ? renderGrid() : renderScatter();
    }

    function closeModal() {
      document.getElementById('modalOverlay').classList.remove('active');
    }

    document.getElementById('modalOverlay').addEventListener('click', (e) => {
      if(e.target === e.currentTarget) closeModal();
    });

    function updateProviderSelect() {
      const sel = document.getElementById('inpProvider');
      sel.innerHTML = providers.map(p => `<option value="${p}">${p}</option>`).join('');
    }

    function copyText(e, text) {
      e.stopPropagation();
      navigator.clipboard.writeText(text);
      const t = document.getElementById('toast');
      t.classList.add('show');
      setTimeout(() => t.classList.remove('show'), 2000);
    }

    function cycleStatusFilter() {
      const states = ['all', 'active', 'cooldown', 'burnt'];
      const currIdx = states.indexOf(config.filter);
      config.filter = states[(currIdx + 1) % states.length];
      
      // Update Filter Display Text
      const label = config.filter === 'all' ? 'All Items' : config.filter.toUpperCase();
      document.getElementById('filterDisplay').textContent = label;
      
      config.view === 'grid' ? renderGrid() : renderScatter();
    }

    function toggleTheme() {
      config.theme = config.theme === 'dark' ? 'light' : 'dark';
      applyTheme();
      localStorage.setItem('iv_theme', config.theme);
    }

    function applyTheme() {
      document.body.setAttribute('data-theme', config.theme);
    }

    // --- Scatter Physics & Logic ---
    
    function applyScatterTransform() {
      document.getElementById('scatterCanvas').style.transform = 
        `scale(${scatter.zoom})`;
    }

    function adjustZoom(delta) {
      scatter.zoom = Math.max(0.5, Math.min(2.0, scatter.zoom + delta));
      applyScatterTransform();
    }

    function startDrag(e, id) {
      e.stopPropagation(); // prevent clicking card
      const card = document.getElementById(`scatter-${id}`);
      if(!card) return;
      
      // Basic Drag Implementation
      scatter.dragging = true;
      const startX = e.clientX || e.touches[0].clientX;
      const startY = e.clientY || e.touches[0].clientY;
      
      // Get current transform translation
      const item = items.find(i => i.id === id);
      const startItemX = item.pos.x;
      const startItemY = item.pos.y;

      function move(eMove) {
        const cx = eMove.clientX || eMove.touches[0].clientX;
        const cy = eMove.clientY || eMove.touches[0].clientY;
        
        // Calculate delta considering zoom level
        const dx = (cx - startX) / scatter.zoom;
        const dy = (cy - startY) / scatter.zoom;
        
        const newX = startItemX + dx;
        const newY = startItemY + dy;
        
        card.style.transform = `translate(${newX}px, ${newY}px)`;
        item.pos = {x: newX, y: newY};
      }

      function end() {
        document.removeEventListener('mousemove', move);
        document.removeEventListener('touchmove', move);
        document.removeEventListener('mouseup', end);
        document.removeEventListener('touchend', end);
        setTimeout(() => scatter.dragging = false, 100);
        save();
      }

      document.addEventListener('mousemove', move);
      document.addEventListener('touchmove', move, {passive: false});
      document.addEventListener('mouseup', end);
      document.addEventListener('touchend', end);
    }

    function toggleMagnet() {
      scatter.magnet = !scatter.magnet;
      document.getElementById('magnetBtn').style.background = scatter.magnet ? 'var(--accent)' : 'var(--glass-bg)';
      if(scatter.magnet) runMagnet();
    }

    function runMagnet() {
      if(!scatter.magnet) return;
      // Simple magnet: pull active cards to center
      const center = {x: window.innerWidth/2, y: window.innerHeight/2};
      items.forEach(item => {
        if(item.status === 'active') {
           // Move 5% closer to center
           item.pos.x += (center.x/2 - item.pos.x) * 0.05;
           item.pos.y += (center.y/2 - item.pos.y) * 0.05;
        }
      });
      renderScatter();
      requestAnimationFrame(runMagnet);
    }

  </script>
</body>
</html>
